<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title><![CDATA[kindquiet素食勤俭敬老孝慈]]></title>
  <subtitle><![CDATA[dayu's blog]]></subtitle>
  <link href="/atom.xml" rel="self"/>
  <link href="http://blog.veryi.com/"/>
  <updated>2015-04-22T07:04:31.669Z</updated>
  <id>http://blog.veryi.com/</id>
  
  <author>
    <name><![CDATA[dayu]]></name>
    <email><![CDATA[acy@163.com]]></email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title><![CDATA[dedecms 5.7副栏目的使用]]></title>
    <link href="http://blog.veryi.com/2015/04/22/dedecms-subtitle/"/>
    <id>http://blog.veryi.com/2015/04/22/dedecms-subtitle/</id>
    <published>2015-04-22T06:54:17.000Z</published>
    <updated>2015-04-22T07:04:31.669Z</updated>
    <content type="html"><![CDATA[<p>dedecms可以把一篇文章发布到多个栏目。<br>系统后台-&gt;系统基本参数-&gt;性能选项 下面有一个“是否启用副栏目”,开启该选项。</p>
<p>修改代码：</p>
<p>找到/include/taglib/arclist.lib.php文件，查找下面的代码<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="variable">$CrossID</span>==<span class="string">''</span>) <span class="variable">$orwheres</span>[] = <span class="string">' arc.typeid in ('</span>.GetSonIds(<span class="variable">$typeid</span>).<span class="string">')'</span>; </span><br><span class="line"><span class="keyword">else</span> <span class="variable">$orwheres</span>[] = <span class="string">' arc.typeid in ('</span>.GetSonIds(<span class="variable">$typeid</span>).<span class="string">','</span>.<span class="variable">$CrossID</span>.<span class="string">')'</span>;</span><br></pre></td></tr></table></figure></p>
<p>改为：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="variable">$CrossID</span>==<span class="string">''</span>)</span><br><span class="line">    //<span class="variable">$orwheres</span>[] = <span class="string">' typeid in ('</span>.GetSonIds(<span class="variable">$typeid</span>).<span class="string">')'</span>;</span><br><span class="line">    <span class="variable">$orwheres</span>[] = <span class="string">' typeid in ('</span>.GetSonIds(<span class="variable">$typeid</span>).<span class="string">') or typeid2 in ('</span>.GetSonIds(<span class="variable">$typeid</span>).<span class="string">')'</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    //<span class="variable">$orwheres</span>[] = <span class="string">' typeid in ('</span>.GetSonIds(<span class="variable">$typeid</span>).<span class="string">','</span>.<span class="variable">$CrossID</span>.<span class="string">')'</span>;</span><br><span class="line">    <span class="variable">$orwheres</span>[] = <span class="string">' typeid in ('</span>.GetSonIds(<span class="variable">$typeid</span>).<span class="string">','</span>.<span class="variable">$CrossID</span>.<span class="string">') or typeid2 in ('</span>.GetSonIds(<span class="variable">$typeid</span>).<span class="string">','</span>.<span class="variable">$CrossID</span>.<span class="string">')'</span>;</span><br></pre></td></tr></table></figure></p>
<p>修改完文件，更新栏目缓存，然后再试一下副栏目功能，应该就是可以正常使用的了</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>dedecms可以把一篇文章发布到多个栏目。<br>系统后台-&gt;系统基本参数-&gt;性能选项 下面有一个“是否启用副栏目”,开启该选项。</p>
<p>修改代码：</p>
<p>找到/include/taglib/arclist.lib.php文件，查找下面的代码<]]>
    </summary>
    
      <category term="dedecms" scheme="http://blog.veryi.com/tags/dedecms/"/>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[github-hexo-blog]]></title>
    <link href="http://blog.veryi.com/2015/04/07/github-hexo-blog/"/>
    <id>http://blog.veryi.com/2015/04/07/github-hexo-blog/</id>
    <published>2015-04-07T03:45:22.000Z</published>
    <updated>2015-04-10T06:54:46.143Z</updated>
    <content type="html"><![CDATA[<p>hexo是一个基于Node.s的静态博客程序。hexo生成的静态网页可以直接放到GitHub Pages，BAE，SAE等平台上。把博客从wordpress迁移到了github，參考：<a href="http://riny.net/2014/move-blog-to-github/" target="_blank" rel="external">http://riny.net/2014/move-blog-to-github/</a>,<a href="http://blog.fens.me/hexo-blog-github/" target="_blank" rel="external">http://blog.fens.me/hexo-blog-github/</a><br>现在hexo已经更新到3.0，有部分内容需要修正，包括一些问题的解决办法，补充如下：<br><a id="more"></a></p>
<h2 id="github">github</h2><h3 id="申请github账号">申请github账号</h3><ul>
<li>首先注册一个『GitHub』帐号</li>
<li>建立与你用户名对应的仓库，仓库名为『your_user_name.github.io』<h4 id="配置自动登陆：">配置自动登陆：</h4></li>
<li>添加SSH公钥：『Account settings -&gt; SSH Keys -&gt; Add SSH Key』</li>
</ul>
<ul>
<li>windows8 ssh key所在目錄：c:\user\login_name.ssh\ *</li>
</ul>
<h2 id="hexo">hexo</h2><h3 id="安装hexo">安装hexo</h3><p>需要安装git和node.js<br>npm install -g hexo<br>npm install<br>建一个目录，比如your_user_name.github.io，进入次目录初始化：<br>    hexo init<br>    npm install</p>
<p>Hexo 3.0 把服务器独立成了个别模块，必须先安装 hexo-server 才能使用。<br>npm install hexo —save<br>npm install hexo-server —save<br>npm install hexo-deployer-git —save</p>
<p>linux系统：<br>sudo npm install -g hexo<br>sudo npm install hexo —save<br>sudo npm install hexo-server —save</p>
<p><strong>hexo 更新到3.0之后，deploy的type 的github需要改成git</strong><br><em>hexo默认会处理全部markdown和html文件，如果不想让hexo处理你的文件，可以在文件头中加入layout: false。</em></p>
<h4 id="插件安装">插件安装</h4><p>站点地图<br>npm install hexo-generator-sitemap save<br>npm install hexo-generator-feed save</p>
<p>在配置文件添加下面的内容</p>
<pre><code><span class="preprocessor"># Extensions</span>
<span class="label">Plugins:</span>
- hexo-generator-feed
- hexo-generator-sitemap
<span class="preprocessor">#Feed Atom</span>
<span class="label">feed:</span>
  type: atom
  path: atom.xml
  limit: <span class="number">20</span>
<span class="label">menu:</span>
  Home: /
  Archives: /archives
  Rss: /atom.xml
  Sitemap: /sitemap.xml
</code></pre><p>升级插件<br>$ npm update<br>卸载插件<br>$ npm uninstall hexo-generator-sitemap</p>
<h4 id="主题安装">主题安装</h4><p><a href="https://github.com/17/hexo-theme-strict" target="_blank" rel="external">Strict</a> 是一个简洁的 hexo 主题, 它的配色来自默认主题 landscape.<br>npm install hexo-renderer-jade —save<br>git clone git@github.com:Bubblings/hexo-diy-strict.git themes/hexo-diy-strict</p>
<p>定制主题,修改以下文件：<br>about.jade<br>head.jade<br>page.jade</p>
<h3 id="从wordpress迁移">从wordpress迁移</h3><p>参考：<a href="http://hexo.io/docs/migration.html" target="_blank" rel="external">http://hexo.io/docs/migration.html</a>。<br>wordpress导出为xml，然后转换为md格式，还需要进一步转换。</p>
<ul>
<li>替换多余的html标签：<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed -<span class="tag">i</span> <span class="string">'s/&lt;[^&gt;]*&gt;//g'</span> *<span class="class">.md</span></span><br><span class="line">sed -<span class="tag">i</span> <span class="string">'s/&amp;[a-z]*;//g'</span> *.md</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>所替换的符号：</p>
<table cellspacing="0" class="t_table"><tr><td width="142"><div align="left"><font face="Calibri">&gt; </font></div></td><td width="142"><div align="right"><div align="left">大于</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;gt;</font></div></div></td></tr><tr><td width="142"><div align="left"><font face="Calibri">&amp;</font></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;</font>符号</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;amp;</font></div></div></td></tr><tr><td width="142"><div align="left"><font face="Calibri">&quot;</font></div></td><td width="142"><div align="right"><div align="left">双引号</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;quot;</font></div></div></td></tr><tr><td width="142"><div align="left"><font face="Calibri">‘</font></div></td><td width="142"><div align="right"><div align="left">单引号</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;#39;</font></div></div></td></tr><tr><td width="142"><div align="left"><font face="Calibri">©</font></div></td><td width="142"><div align="right"><div align="left">版权</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;copy;</font></div></div></td></tr><tr><td width="142"><div align="left"><font face="Calibri">®</font></div></td><td width="142"><div align="right"><div align="left">已注册商标</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;reg;</font></div></div></td></tr><tr><td width="142"><div align="left">™</div></td><td width="142"><div align="right"><div align="left">商标（美国）</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;trade;</font></div></div></td></tr><tr><td width="142"><div align="left">×</div></td><td width="142"><div align="right"><div align="left">乘号</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;times;</font></div></div></td></tr><tr><td width="142"><div align="left">÷</div></td><td width="142"><div align="right"><div align="left">除号</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;divide;</font></div></div></td></tr><tr><td width="142"><div align="left"><font face="Calibri"> </font></div></td><td width="142"><div align="right"><div align="left">空格</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;nbsp;</font></div></div></td></tr><tr><td width="142"><div align="left">‘</div></td><td width="142"><div align="right"><div align="left">中文单引号</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;lsquo;</font></div></div></td></tr><tr><td width="142"><div align="left">’</div></td><td width="142"><div align="right"><div align="left">中文单引号</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;rsquo;</font></div></div></td></tr><tr><td width="142"><div align="left">“</div></td><td width="142"><div align="right"><div align="left">中文双引号</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;ldquo;</font></div></div></td></tr><tr><td width="142"><div align="left">”</div></td><td width="142"><div align="right"><div align="left">中文双引号</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;rdquo;</font></div></div></td></tr><tr><td width="142"><div align="left">…</div></td><td width="142"><div align="right"><div align="left">中文省略号</div></div></td><td width="142"><div align="right"><div align="left"><font face="Calibri">&amp;hellip;</font></div></div></td></tr></table>


<h3 id="写文章">写文章</h3><p>hexo n title</p>
<p>文章在source/_posts目录下<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">title: postName #文章页面上的显示名称，可以任意修改</span><br><span class="line">date: 2013-12-02 15:30:16 #文章生成时间，一般不改，当然也可以任意修改</span><br><span class="line">tags: #文章标签，可空，多标签请用格式，注意:后面有个空格</span><br><span class="line"><span class="bullet">- </span>tag1</span><br><span class="line"><span class="header">- tag2 </span><br><span class="line">---</span></span><br><span class="line">摘要</span><br><span class="line">&lt;!--more--&gt;</span><br><span class="line">以下正文</span><br></pre></td></tr></table></figure></p>
<h4 id="markdown_简明语法">markdown 简明语法</h4><pre><code>*,-,+ 3个符号效果都一样，这3个符号被称为 Markdown符号
空白行表示另起一个段落
`是表示inline代码，tab是用来标记 代码段，分别对应html的code，pre标签

单一段落( <span class="xml"><span class="tag">&lt;<span class="title">p</span>&gt;</span></span>) 用一个空白行
连续两个空格 会变成一个 <span class="xml"><span class="tag">&lt;<span class="title">br</span>&gt;</span></span>
连续3个符号，然后是空行，表示 hr横线

加粗是通过 文字左右各两个符号
用一个 * 包含一段文本就是斜体的语法
在第一行加上 “&gt;”和一个空格，表示代码引用
使用*,+,-加上一个空格来表示列表
有序列表用 数字+英文点+空格来表示

链接
直接写 [<span class="link_label">锚文本</span>](<span class="link_url">url "可选的title"</span>)
引用 先定义 [<span class="link_label">ref_name</span>]:url，然后在需要写入url的地方，这样使用[<span class="link_label">锚文本</span>][<span class="link_reference">ref_name</span>]，通常的ref_name一般用数字表示
简写url：用尖括号包裹url
这样生成的url锚文本就是url本身
插入图片
一行表示: ![<span class="link_label">alt_text</span>](<span class="link_url">url "可选的title"</span>)
引用表示法: ![<span class="link_label">alt_text</span>][<span class="link_reference">id</span>],预先定义 [id]:url "可选title"
直接使用<span class="xml"><span class="tag">&lt;<span class="title">img</span>&gt;</span></span>标签，这样可以指定图片的大小尺寸

特殊符号
用\来转义，表示文本中的markdown符号
可以在文本种直接使用html标签，但是要注意在使用的时候，前后加上空行
文本前后各加一个符号，表示斜体
</code></pre><h3 id="进阶">进阶</h3><p>评论，多說：<br><a href="http://your_name.duoshuo.com/admin/" target="_blank" rel="external">http://your_name.duoshuo.com/admin/</a><br>圖片服務器：<br><a href="https://portal.qiniu.com/report/overview" target="_blank" rel="external">https://portal.qiniu.com/report/overview</a><br>百度統計：<br><a href="http://tongji.baidu.com" target="_blank" rel="external">http://tongji.baidu.com</a></p>
<h4 id="常用命令">常用命令</h4><p>hexo new “postName” #新建文章<br>hexo new page “pageName” #新建页面<br>hexo generate #生成静态页面至public目录<br>hexo server #开启预览访问端口（默认端口4000，’ctrl + c’关闭server）<br>hexo deploy #将.deploy目录部署到GitHub<br>在执行hexo deploy前把在本地写好的README.md文件复制到.deploy文件夹中，再去执行hexo deployer</p>
<p>在此感谢GitHub。</p>
]]></content>
    <summary type="html">
    <![CDATA[hexo]]>
    
    </summary>
    
      <category term="hexo" scheme="http://blog.veryi.com/tags/hexo/"/>
    
      <category term="default" scheme="http://blog.veryi.com/categories/default/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[centos 7 虚拟机重启后网络不能连接处理]]></title>
    <link href="http://blog.veryi.com/2014/11/21/w/centos-7-e8-99-9a-e6-8b-9f-e6-9c-ba-e9-87-8d-e5-90-af-e5-90-8e-e7-bd-91-e7-bb-9c-e4-b8-8d-e8-83-bd-e8-bf-9e-e6-8e-a5-e5-a4-84-e7-90-86/"/>
    <id>http://blog.veryi.com/2014/11/21/w/centos-7-e8-99-9a-e6-8b-9f-e6-9c-ba-e9-87-8d-e5-90-af-e5-90-8e-e7-bd-91-e7-bb-9c-e4-b8-8d-e8-83-bd-e8-bf-9e-e6-8e-a5-e5-a4-84-e7-90-86/</id>
    <published>2014-11-21T10:25:48.000Z</published>
    <updated>2015-04-08T01:09:29.033Z</updated>
    <content type="html"><![CDATA[<p>centos7 由于systemd 和 udev 引入了一种新的网络设备命名方式–一致网络设备命名（CONSISTENT NETWORK DEVICE NAMING） 。</p>
<p>一台虚拟机，安装centos 7 64位系统，双网卡，内网为ens33,公网为ens32。升级系统重启后网络不通。通过控制台查看网络没有启动，手工启动内网，可以ping通，启动公网网卡，公网和内网都不通。检查ip地址</p>
<p>ip a</p>
<p>发现内网地址绑定到了公网网卡上。</p>
<p>cd /etc/sysconfig/network-scripts/<br>cat ifcfg-ens32|grep HWADDR<br>ip l |grep -A 1 ens32</p>
<p>修改网卡配置，添加mac地址参数</p>
<p>HWADDR=…</p>
<p>重启网卡</p>
<p>ifdown ens32  ifup ens32</p>
<p>网络可以正常连接。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>centos7 由于systemd 和 udev 引入了一种新的网络设备命名方式–一致网络设备命名（CONSISTENT NETWORK DEVICE NAMING） 。</p>
<p>一台虚拟机，安装centos 7 64位系统，双网卡，内网为ens33,公网为ens32]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[wordpress4后台数据库手工添加管理员账号]]></title>
    <link href="http://blog.veryi.com/2014/11/18/w/wordpress4-e5-90-8e-e5-8f-b0-e6-95-b0-e6-8d-ae-e5-ba-93-e6-89-8b-e5-b7-a5-e6-b7-bb-e5-8a-a0-e7-ae-a1-e7-90-86-e5-91-98-e8-b4-a6-e5-8f-b7/"/>
    <id>http://blog.veryi.com/2014/11/18/w/wordpress4-e5-90-8e-e5-8f-b0-e6-95-b0-e6-8d-ae-e5-ba-93-e6-89-8b-e5-b7-a5-e6-b7-bb-e5-8a-a0-e7-ae-a1-e7-90-86-e5-91-98-e8-b4-a6-e5-8f-b7/</id>
    <published>2014-11-18T08:54:40.000Z</published>
    <updated>2015-04-08T01:09:29.100Z</updated>
    <content type="html"><![CDATA[<p>需要有数据库权限，打开wordpress数据库：</p>
<p>insert into wp_users (user_login,user_pass) values (‘username’,md5(‘password’));</p>
<p>密码是MD5加密的。</p>
<p>select id,user_login,user_pass from wp_users where user_login=’usernamen’;</p>
<p>找到id，比如48，</p>
<p>insert into wp_usermeta (user_id,meta_key,meta_value) values (48,’wp_capabilities’,’a:1:{s:13:\”administrator\”;b:1;}’) ,(48,’wp_user_level’,’10’);</p>
<p>如果表前缀不是wp开头，需要修改wp_capabilities、wp_user_level为相应的前缀。否则报错：</p>
<p>后台提示“您没有足够的权限访问这个页面。”</p>
<p>修改管理员密码同理，只要把密码MD5加密即可。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>需要有数据库权限，打开wordpress数据库：</p>
<p>insert into wp_users (user_login,user_pass) values (‘username’,md5(‘password’));</p>
<p>密码是MD5加密的。</p>
<p]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[WordPress 4.x 后台打开慢，显示加载fonts.googleapis.com]]></title>
    <link href="http://blog.veryi.com/2014/11/18/w/wordpress-e5-90-8e-e5-8f-b0-e6-89-93-e5-bc-80-e6-85-a2-ef-bc-8c-e6-98-be-e7-a4-ba-e5-8a-a0-e8-bd-bdfonts-googleapis-com/"/>
    <id>http://blog.veryi.com/2014/11/18/w/wordpress-e5-90-8e-e5-8f-b0-e6-89-93-e5-bc-80-e6-85-a2-ef-bc-8c-e6-98-be-e7-a4-ba-e5-8a-a0-e8-bd-bdfonts-googleapis-com/</id>
    <published>2014-11-18T08:32:18.000Z</published>
    <updated>2015-04-08T01:09:29.101Z</updated>
    <content type="html"><![CDATA[<p>解决方法有替换open sans 字体的加载源，把字体禁止或换成本地。</p>
<p>推荐方法:<br>替换open sans 字体的加载源,在当前主题中加入下面的代码：<br>?php<br>/<em><br>Plugin Name: DW Replace Open Sans<br>Plugin URI: <a href="http://devework.com/replace-open-sans.html" target="_blank" rel="external">http://devework.com/replace-open-sans.html</a><br>Description: 将WordPress 后台中的open-sans字体加载源从Google Fonts替换为360的CDN加载源。<br>Author: Jeff<br>Author URI: <a href="http://devework.com/" target="_blank" rel="external">http://devework.com/</a><br>Version: 1.0<br>Text Domain: dw-replace-open-sans
</em>/</p>
<p>function devework_replace_open_sans() {<br>wp_deregister_style(‘open-sans’);<br>wp_register_style( ‘open-sans’, ‘//fonts.useso.com/css?family=Open+Sans:300italic,400italic,600italic,300,400,600’ );<br>wp_enqueue_style( ‘open-sans’);<br>}<br>add_action( ‘wp_enqueue_scripts’, ‘devework_replace_open_sans’ );<br>add_action(‘admin_enqueue_scripts’, ‘devework_replace_open_sans’);<br>其它方法一：本地替换教程<br>新建google-font.css 放在\wp-includes\css目录中（附该css文件的内容如下）</p>
<p>——————代码区begin————————<br>@font-face {<br>font-family: ‘Open Sans’;<br>font-style: normal;<br>font-weight: 300;<br>src: local(‘Open Sans Light’), local(‘OpenSans-Light’), url(../fonts/google/DXI1ORHCpsQm3Vp6mXoaTRa1RVmPjeKy21_GQJaLlJI.woff) format(‘woff’);<br>}<br>@font-face {<br>font-family: ‘Open Sans’;<br>font-style: normal;<br>font-weight: 400;<br>src: local(‘Open Sans’), local(‘OpenSans’), url(../fonts/google/u-WUoqrET9fUeobQW7jkRT8E0i7KZn-EPnyo3HZu7kw.woff) format(‘woff’);<br>}<br>@font-face {<br>font-family: ‘Open Sans’;<br>font-style: normal;<br>font-weight: 600;<br>src: local(‘Open Sans Semibold’), local(‘OpenSans-Semibold’), url(../fonts/google/MTP_ySUJH_bn48VBG8sNSha1RVmPjeKy21_GQJaLlJI.woff) format(‘woff’);<br>}<br>@font-face {<br>font-family: ‘Open Sans’;<br>font-style: italic;<br>font-weight: 300;<br>src: local(‘Open Sans Light Italic’), local(‘OpenSansLight-Italic’), url(../fonts/google/PRmiXeptR36kaC0GEAetxrsuoFAk0leveMLeqYtnfAY.woff) format(‘woff’);<br>}<br>@font-face {<br>font-family: ‘Open Sans’;<br>font-style: italic;<br>font-weight: 400;<br>src: local(‘Open Sans Italic’), local(‘OpenSans-Italic’), url(../fonts/google/xjAJXh38I15wypJXxuGMBtIh4imgI8P11RFo6YPCPC0.woff) format(‘woff’);<br>}<br>@font-face {<br>font-family: ‘Open Sans’;<br>font-style: italic;<br>font-weight: 600;<br>src: local(‘Open Sans Semibold Italic’), local(‘OpenSans-SemiboldItalic’), url(../fonts/google/PRmiXeptR36kaC0GEAetxmWeb5PoA5ztb49yLyUzH1A.woff) format(‘woff’);<br>}<br>——————代码区end————————</p>
<p>修改 \wp-includes\script-loader.php 文件，找到</p>
<p>$open_sans_font_url = “//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,300,400,600subset=$subsets”;</p>
<p>替换为<br>$open_sans_font_url = “/wp-includes/css/google-font.css”;</p>
<p>其它方法二：禁止教程</p>
<p>在wp的后台插件里面搜索安装Disable Google Fonts这款插件后启用即可，如果不想安装插件，也可以使用代码版，在主题的functions.php里面加入下面的代码：<br>——————代码区begin————————</p>
<p>//禁用Open Sans<br>class Disable_Google_Fonts {<br>public function __construct() {<br>add_filter( ‘gettext_with_context’, array( $this, ‘disable_open_sans’ ), 888, 4 );<br>}<br>public function disable_open_sans( $translations, $text, $context, $domain ) {<br>if ( ‘Open Sans font: on or off’ == $context  ‘on’ == $text ) {<br>$translations = ‘off’;<br>}<br>return $translations;<br>}<br>}<br>$disable_google_fonts = new Disable_Google_Fonts;<br>——————代码区end————————</p>
<p>参考：<br><a href="http://www.niuguoxin.com/dishui/website/wordpress/172.html" target="_blank" rel="external">http://www.niuguoxin.com/dishui/website/wordpress/172.html</a><br><a href="http://devework.com/google-fonts-in-wordpress.html" target="_blank" rel="external">http://devework.com/google-fonts-in-wordpress.html</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>解决方法有替换open sans 字体的加载源，把字体禁止或换成本地。</p>
<p>推荐方法:<br>替换open sans 字体的加载源,在当前主题中加入下面的代码：<br>?php<br>/<em><br>Plugin Name: DW Replace Open Sa]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[nginx perl cgi错误排除]]></title>
    <link href="http://blog.veryi.com/2014/11/18/w/nginx-perl-cgi-e9-94-99-e8-af-af-e6-8e-92-e9-99-a4/"/>
    <id>http://blog.veryi.com/2014/11/18/w/nginx-perl-cgi-e9-94-99-e8-af-af-e6-8e-92-e9-99-a4/</id>
    <published>2014-11-18T07:09:12.000Z</published>
    <updated>2015-04-08T01:09:29.090Z</updated>
    <content type="html"><![CDATA[<p>nginx执行perl cgi报错：</p>
<p>Error: No such CGI app - may not exist or is not executable by this process.</p>
<p>排除权限问题。修改nginx配置文件，增加如下配置：</p>
<p>fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;<br>include fastcgi_params;</p>
<p>故障排除。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>nginx执行perl cgi报错：</p>
<p>Error: No such CGI app - may not exist or is not executable by this process.</p>
<p>排除权限问题。修改nginx配置文件，增加如下配置：<]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[httpd服务排错一例]]></title>
    <link href="http://blog.veryi.com/2014/10/23/w/httpd-e6-9c-8d-e5-8a-a1-e6-8e-92-e9-94-99-e4-b8-80-e4-be-8b/"/>
    <id>http://blog.veryi.com/2014/10/23/w/httpd-e6-9c-8d-e5-8a-a1-e6-8e-92-e9-94-99-e4-b8-80-e4-be-8b/</id>
    <published>2014-10-23T06:02:41.000Z</published>
    <updated>2015-04-08T01:09:29.081Z</updated>
    <content type="html"><![CDATA[<p>服务器重启后，网站访问报错：</p>
<p>Service Temporarily Unavailable</p>
<p>The server is temporarily unable to service your request due to maintenance downtime or capacity problems. Please try again later.</p>
<p>apache日志：</p>
<p>[Thu Oct 23 11:50:06 2014] [error] [client …] (2)No such file or directory: unable to connect to cgi daemon after multiple tries: /…/extmail/cgi/index.cgi</p>
<p>重启httpd服务，访问恢复正常，原因不明。</p>
<p>/etc/init.d/httpd restart</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>服务器重启后，网站访问报错：</p>
<p>Service Temporarily Unavailable</p>
<p>The server is temporarily unable to service your request due to maintenance ]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[宣化上人开示：人生的三苦和八苦]]></title>
    <link href="http://blog.veryi.com/2014/08/08/w/e5-ae-a3-e5-8c-96-e4-b8-8a-e4-ba-ba-e5-bc-80-e7-a4-ba-ef-bc-9a-e4-ba-ba-e7-94-9f-e7-9a-84-e4-b8-89-e8-8b-a6-e5-92-8c-e5-85-ab-e8-8b-a6/"/>
    <id>http://blog.veryi.com/2014/08/08/w/e5-ae-a3-e5-8c-96-e4-b8-8a-e4-ba-ba-e5-bc-80-e7-a4-ba-ef-bc-9a-e4-ba-ba-e7-94-9f-e7-9a-84-e4-b8-89-e8-8b-a6-e5-92-8c-e5-85-ab-e8-8b-a6/</id>
    <published>2014-08-08T02:36:24.000Z</published>
    <updated>2015-04-08T01:09:29.063Z</updated>
    <content type="html"><![CDATA[<p>生老病死苦，人生有三苦，即：苦苦、坏苦、行苦。苦苦就是苦中之苦，好像贫穷困苦的人，既没钱，又没饭吃，又没有房子住，想找工作又找不著，真是苦中之苦。这苦中之苦是人所不能受的。那么有钱人就不苦了！有钱人的苦更大！有人说：‘法师你讲这道理我不相信。’你不相信我也这样讲，相信我也这样讲。为什么？你看钱多了，一天到晚都在想：‘我这批钱放到什么银行去？那批钱我要拿出来做生意，还有那批钱要…。’总也没有数完的时候，这多麻烦！数来数去数到头发也白了，牙也掉了，眼睛也花了，耳朵也聋了，这时候还未数完！没数完你说怎样呢？问题就来了，因为太有钱了，一天到晚都在数钱，数来数去被土匪知道了，晚间破门闯进来，把所有储蓄的钱都抢走，一扫而光，这叫坏苦。这坏苦比那贫穷困苦更厉害，因为穷苦的人苦习惯了，不觉得怎样苦。但富贵忽然坏了，这种苦才是难受。尤其年老了，钱也没有，一切一切都不如意，这叫坏苦。</p>
<p>这样说，不富也不穷的人，就没苦了吧？还是有苦的，什么苦呢？就有行苦：他由少而壮，由壮而老，由老而死，念念迁流，念念不停。既然没有贫穷困苦，没有富贵的坏苦，就有行苦。这三苦是没有一人能避免的。</p>
<p>有八苦。三苦已经不少了，再加上八苦更多了！其实怎样呢？八苦还不多，这个‘苦’不止八苦，简直是千苦、万苦，千千万万数不过来这么多的苦。最苦最苦的就是做人，做畜生都比做人快乐得多。做什么才不苦呢？做佛就没有苦了。为什么说做畜生比做人还快乐呢？畜生它不用愁吃的，也不用愁穿的，愁住的，它有天然的生活条件，没有忧愁，你说是不是？唯独做人的苦是最多，现在不必讲八万四千，乃至千千万万那么多的苦；就只讲这八苦，即是：生苦、老苦、病苦、死苦、爱别离苦、怨僧会苦、求不得苦、五阴炽盛苦。在这八苦中，你说什么苦最苦？就是生苦。若没有生，则这些其他苦都没有了。</p>
<p>问：‘生苦是怎样苦？’唉！我知道你是不记得了，已经忘了生之苦。所以现在我告诉你：‘这生是由父精母血结成一起，又由中阴身来投胎而有的。在母亲肚里的时候第一个礼拜和第二、三、四个礼拜都没有感觉，等到第七个礼拜就有了知觉。这时候若母亲吃凉的东西，你就好像住在冰山里，觉得非常难受；母亲若吃热的东西，那时又好像在火汤里似的，烫得不得了。在母亲腹里就有这种冷热煎迫之苦。还有母亲如果在弯腰时，胎儿就好像被泰山压住那样难受。如果母亲叉著腰时，也觉得非常的不舒服。等到生的时候，那是最苦了，正出生时就好像两个山夹到一起。因为这种夹山地狱之苦，所以每个小孩子一出世就哭喊起来，其实那哭喊声就是从苦那儿来的，所以才喊叫：‘苦呀！苦呀！苦呀！苦呀！苦呀！’</p>
<p>生的时候就有如生龟脱壳那么痛苦。可是一长大后就忘了这种生的痛苦，接著长大，不知不觉就老了。这个老的苦也是很厉害的。老时耳朵也聋了，人家骂你也不知道。眼睛也花了，看什么东西都不清楚了。这是耳朵眼睛首先不帮你的忙。舌头虽然不掉，可是牙齿掉了。我以前遇到八、九十岁的老人就问他：‘你见过掉舌头的人吗？为什么你的牙都掉光了？’他说：‘没有，你见到过吗？’我说：‘我更没有遇到过，你这么大年纪尚未遇到掉舌的人，我年纪这么轻又怎会遇到这样奇怪的事情？’然后又问他：‘你知道为什么你的舌头不掉？世上没人掉舌头只掉牙呢？’他说：‘什么道理？’我说：‘就因为牙齿太硬了，所以它会掉。舌头之所以不掉，因为它软，所以才不掉。你这么大年纪了，以后再也不要硬，若硬的话也好像牙那样会掉了，要学著软一点。</p>
<p>那么牙掉有什么苦呢？当然吃东西就不香了，吃什么都没有滋味。到别人口里吃得津津有味，到自己口里嚼也嚼不动，咬也咬不断，只有整个吞到肚里又不消化，你说这苦不苦呢？</p>
<p>那时面也皱了，所谓‘鸡皮鹤发’，面上的皮肉就像鸡皮疙瘩的非常粗糙。头发也都白了，这个‘鹤发’，在美国人来讲，就不适宜老的意思，因为西方人，小孩一出世头发就有全白色的，那不是老的白，而是很年轻时也有白发。不过这又另当别论。老的白发是由至黑发变成白，黑的可以变白，白了就不可以变黑。但有时候也可以的。我告诉你们，我的头发在香港时，完全都白了。为什么呢？因为我造庙，修了三个寺，唉！修得费尽心神，把头发也累白了。以后自己一看：‘啊！这还得了！再也不用这么多心了！’于是把什么都放下。哈！以后它又黑了。所以什么事都是没有一定的。现在你们看我这个头，只有一点的白发，不太多了。</p>
<p>这个老苦也是不容易受的，你若不相信，可以试一试。等你老的时候，就知道其中味道，你不妨活个七、八十岁，或八、九十岁，甚至一百岁。那时，当你吃东西也不香了，你就知道：‘哦！以前有个法师讲老苦是很苦的，我不相信，现在我才知是真实不虚的。’那时候你才想来修道，已经太迟来不及了。</p>
<p>最平等的就是‘病苦’。无论谁都会有病痛，没有大病就有小病。头痛就头不舒服，脚痛脚就不舒服，身上痛就身不舒服。病有非常多种，好像有胃病吃东西就不舒服，若有肺病就咳嗽不止。总而言之，这五脏：心、肝、脾、肺、肾一有了病就是苦！</p>
<p>还有最苦的就是‘死’苦。有人说：‘死苦？我不知道是什么滋味？我想先知道。’那你就先试一试看，先死一次，可是没有人敢保险你能再活过来，所以这一试也不可以试。死是容易，死后到什么地方去？这是一个重要的问题。死后是堕地狱？还是做畜生？是去做人？这个没有人能保险的。</p>
<p>这生、老、病、死都是苦。释迦牟尼佛为什么要出家？也就因为觉得这生、老、病、死苦是一件不容易受的事情。他在十九岁时，有一天出去游玩，走到东门，看见一个妇人在生小孩子，就问随从的人：‘这是什么事？’随从说：‘这是生小孩子。’太子看见那小孩大声哭喊，而那妇人也痛苦得不得了，于是心里不快乐地回到皇宫。</p>
<p>第二天又到南门，看见一个老年人，头发都全白，眼睛也花了，腰也弯曲，不能站直，腿又迈不动步，老得不得了。他就问随从，这个人是什么人？怎么这样子？随从说：‘这个人已经老了，年纪太大了，所以才这样子。’太子也就无心再游玩，立刻回宫去。</p>
<p>第三天又到西门，看见一个有病的人，于是又不高兴的回去。第四天到北门去参观，看见一个死了的人，他又问随从：‘这是怎么一回事？’随从说：‘这个人死了。’他又感到非常忧闷，眼看生、老、病、死是人生必经之路，太苦了，真没有意思！转身就想回宫去。正在这个时候，出现一个沙门，即是出家人。太子又问：‘这人是做什么的？’随从乃去问这沙门：‘你是做什么的？’沙门说：‘我是个出家人，修学佛道，才能离这生、老、病、死苦。’太子一听修道能了生脱死，于是很高兴的又问沙门：‘我也可以照你这样来修道吗？’沙门说：‘谁都可以的，任何人都可以远离这生、老、病、死苦。’</p>
<p>太子回到宫里之后，晚间就和马夫车匿，一起逃出宫殿，出家修行。释迦牟尼佛就因为觉得生老病死没有什么意思，也不知道生从何处来？也不知道死后到什么地方去？所以就发心出家，到雪山坐了六年，因为要避免这生老病死苦。人呢？谁都会有生，但是任何人也不能逃避死。人人将来都要死，有的善终，有的不善终，各有种种不同的死法。有的病死，有的饿死，有的做工做得太多了累死，也有的被车撞死，又有人被山上的石头滚下压死，或去和人打架被打死了，或者去作战在阵前阵亡，或因误服毒药而死，有的自杀而死，有的不想死就死了，有的想死又不死，故这一个‘死’有种种不同的分别。虽然死法不同，但是将来的果报呢？也不同。譬如一些横死的人，即被车撞死，或被水淹死，或被火烧死，在无意之中发生意外而死了。属于这些横死的人，他们的鬼魂，阎罗王是不管的，鬼也不管，那么，这时他该很自由了？虽说是自由，可是却是个自由鬼，并非自由人。人自由有时候也不守规矩，何况鬼呢？鬼自由了也会不守规矩，横死的人他又要抓替死鬼。譬如在马路上某个地方曾撞死人，那个地方在三年之内必会再有人被撞死的。什么原因？因为那横死鬼总在这地方等著，他一定要再把旁人撞死，他才可以去托生，否则他就永远在那儿不能投生。若是自杀吃毒药而死的人，到地狱后所受的刑罚是非常痛苦的。什么刑罚呢？在生饮毒而死，在地狱就要喝那种用火烧化了的铁汁，往肚里灌，把内里的五脏都烫坏烧焦了，烫死后再被地狱的巧风一吹，又活过来。活了再喝这种铁汁，然后又被烫死，死了被这巧风一吹，又活过来了….一天到晚都受这种刑罚，很难受的。可是你若能念观世音菩萨，就会一点一点的把生、老、病、死这种种痛苦都没有了。</p>
<p>这是讲的四苦，再有爱别离苦。这个‘爱’是人人都知道的；有的爱色有的爱名。爱财的人也就是爱利，譬如有个很有钱的人，计划做大生意想赚钱，可是生意失败亏本，把钱都没有了。这人与利离别了，本不想离开钱，可是钱没有了，这也是爱别离苦。色，就是男女的问题，男人爱女人的色，女人爱男人的色，两相互爱，可是因为在前生种了不好的因果，故这个爱不能久远，在某一种情形之下，从中间就要分离了。在离开的时候，若没有真正的爱，离开也不要紧；若有一种真正的爱情执著，就会非常痛苦，这是爱色的爱别离苦。还有爱名的爱别离苦，这个名怎会又有别离呢？有人这样说：‘名誉者，人之第二生命也。’认为有个好的名就是自己的第二条生命，可是这第二条生命一旦被毁坏了，便变成名誉扫地。本来不想失去名誉，可是没法子，因一时做错事，把名誉低落了、没有了，这也是和名的一种爱别离苦。</p>
<p>这‘爱别离苦’非常之多。譬如夫妇虽没有分离，可是生了个小孩子长得相貌可爱又聪明，拿他当宝珠一样珍贵重视。可是，忽然间这宝珠死了，这时痛哭流涕非常的难过，这也是爱别离苦。或者有人对待父母很孝养，很恭敬爱惜，本来不想父母离开自己，可是父母死了，这也叫爱别离苦。或又环境非常好，父母妻儿一切一切都美满，可是自己忽然间死了，乃至于兄弟朋友之间，都有这种不如意的情形，本来不愿意离开他，却要分离了，这都叫爱别离苦。既然知道爱别离苦，就不要再执著这个爱。不要把这个爱只放到一个人身上，应放到整个众生的身上，行菩萨道来救度一切众生，不要为自己著想，要为众人著想，那就不会有爱别离苦了。</p>
<p>这种爱别离苦，有的人更执著爱情，没有苦自己找著来苦一苦。好像有些结了婚的男人，一天到晚忧愁得不得了，忧愁什么呢？深恐他的太太另外去找男朋友，这不是没苦找苦吗？也有的女人结婚之后，大概自己的丈夫生得太英俊，一天到晚什么也不想，就担心愁闷她的丈夫再有其他的女人，甚至想到不能吃饭。你说这不是太愚痴吗？还有的对人不生爱情，却爱狗如命，又有的爱猫，把猫狗看成自己的生命一样；乃至对一切的畜生或物质，都生出一种爱心。这种爱心一生出来怎么样呢？也就很巧妙的，爱狗的这狗就死了，爱猫的这只猫又丢了，这时好像命都丢了，为这猫狗左哭一场，右哭一场，这也是一种爱别离苦。总而言之，你对任何事物看不破，放不下，及至有某种特殊情形而分离的时候，令你得不到所愿意得的，就觉得非常之痛苦，这都叫爱别离苦。</p>
<p>有人说：‘单是这个爱就有这么多的苦，唉！我就不爱了，以后我就憎！’憎即是不爱，有一种讨厌、怨恨仇视的心，对任何事物也都不爱了，这又用错了。那么，说爱是有苦，不爱呢？也一样有苦，就有个‘怨憎会苦’。在某个场合里你都觉得很讨厌，很憎恶其他人，和任何人也没缘，感到人人都不好，所以谁我都不欢喜。你不爱人，也不爱狗，更不爱猫，什么都不顺眼，见到什么就发脾气。于是搬家到另外一个地方，谁知到另外的地方后，又遇上一切人和物，比原来的环境更不好、更坏！你越不愿意见的事情，偏要见到越讨厌的事情，这事情就来了。啊！很奇怪很奇怪的！你怕见猫，一天到晚都有猫跑来你这儿，打它也不走。讨厌狗！方才那是个爱，这回是个讨厌，你越讨厌它，它偏偏要亲近你。你讨厌女人，哈！这女人一天到晚找上门来追求你。你很不快乐又要搬家，到别的地方又有同样这般人与环境，比原先的更厉害！总没有安宁快乐的日子。你说这苦不苦？</p>
<p>这苦是从什么地方来呢？根本是从你自性上招来的，因你自性缺乏定力。你在这个地方和左右邻居都不和气，搬到另外一个地方也不和气，这不是人家对你不好，而是你自己对人不好。因为自己觉得与任何人都没有缘，所以别人对你也没有缘。那么觉得好也是苦，觉得不好还是苦，该怎么办呢？就要合乎中道，总之对任何事情都不要太过，太过了等于不及。这怨憎会苦就是这样奇怪！你越不愿意的事情就越遇上这事情；不愿意看到喝酒的人，酒鬼一天到晚在你旁边。不愿意抽烟的人，烟鬼跑到你家来。不高兴赌钱，赌鬼天天来找你。为什么呢？就因为你有个怨憎，所以聚会到一起就苦了。怨憎会苦和爱别离苦都是因为自己不明白真正的中道，偏激到一边去，落到一边才有苦，若能保持中道那就不会苦了。</p>
<p>相信没有人会讨厌憎恨‘钱’的，可是这个‘钱’，你越不憎，越爱它，它越不来。这爱它不来的怪事就是‘求不得苦’。</p>
<p>方才说爱也苦，憎也苦，那么在这个爱里就有所求，有所求往往是求不得。有的人一生来就想求发财，可是兢兢业业，辛辛苦苦，从有生命以来就想要发财，等到死的时候也没有发财，还是做个穷鬼，这是求不得苦。有人觉得做官很不错，于是想尽法子求做官，可是求了一生，结果也没做到，这也是求不得苦。有的一生就求名，但一生也没求到。有的没有孩子，就想生个聪明的儿子、漂亮的女儿，但求来求去也求不得，这也是求不得苦。在一生之中不是求这样，就是求那样，但是那一样也没有求到。有些读书人就想求个博士，可是因为在往昔没有栽培读书的善根，读到老了眼睛看不见，耳朵听不见，读了一辈子的书，这博士学位也没有得到。在中国有位梁灏，读到八十二岁才中状元，可是得到状元不久就死了，虽求到了，可是，还没享受就死了，这也是苦。求东不得东，求西不得西，总而言之，你所贪求的东西，得不到手里，这都是苦。</p>
<p>又有五阴炽盛苦，什么叫五阴？即色、受、想，行、识。在心经上讲：‘色不异空，空不异色，色即是空，空即是色。’你若能把它都看空了，也就没有苦。这五种色阴、受阴、想阴，行阴、识阴是非常的炽盛强烈，是最苦的，可是人人对这五阴都离不了。前面所说的七种苦属于垢苦，这个色、受、想，行、识是在自性内里所具有的，时刻都和你在一起，想离也离不开，这叫五阴炽盛苦。</p>
<p>———-摘自《大乘妙法莲华经浅释》</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>生老病死苦，人生有三苦，即：苦苦、坏苦、行苦。苦苦就是苦中之苦，好像贫穷困苦的人，既没钱，又没饭吃，又没有房子住，想找工作又找不著，真是苦中之苦。这苦中之苦是人所不能受的。那么有钱人就不苦了！有钱人的苦更大！有人说：‘法师你讲这道理我不相信。’你不相信我也这样讲，相信我也这]]>
    </summary>
    
      <category term="佛法传统文化" scheme="http://blog.veryi.com/categories/%E4%BD%9B%E6%B3%95%E4%BC%A0%E7%BB%9F%E6%96%87%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[centos 7 支持ntfs、exfat(fat64)文件系统]]></title>
    <link href="http://blog.veryi.com/2014/08/08/w/centos-7-e6-94-af-e6-8c-81ntfs-e3-80-81exfatfat64-e6-96-87-e4-bb-b6-e7-b3-bb-e7-bb-9f/"/>
    <id>http://blog.veryi.com/2014/08/08/w/centos-7-e6-94-af-e6-8c-81ntfs-e3-80-81exfatfat64-e6-96-87-e4-bb-b6-e7-b3-bb-e7-bb-9f/</id>
    <published>2014-08-08T01:42:46.000Z</published>
    <updated>2015-04-08T01:09:29.032Z</updated>
    <content type="html"><![CDATA[<p>FUSE：用户空间文件系统（Filesystem in Userspace），是Linux 中用于挂载某些网络空间，如SSH，到本地文件系统的模块。</p>
<p>rpm -Uvh <a href="http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm" target="_blank" rel="external">http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm</a><br>ntfs分区读写支持：<br>yum install fuse-ntfs-3g</p>
<p>exfat(fat64)支持是通过fuse模块的方式支持的<br><a href="http://download1.rpmfusion.org/free/el/updates/6/SRPMS/repoview/index.html" target="_blank" rel="external">http://download1.rpmfusion.org/free/el/updates/6/SRPMS/repoview/index.html</a><br>wget <a href="http://download1.rpmfusion.org/free/el/updates/6/SRPMS/fuse-exfat-1.0.1-2.el6.src.rpm" target="_blank" rel="external">http://download1.rpmfusion.org/free/el/updates/6/SRPMS/fuse-exfat-1.0.1-2.el6.src.rpm</a><br>wget <a href="http://download1.rpmfusion.org/free/el/updates/6/SRPMS/exfat-utils-1.0.1-2.el6.src.rpm" target="_blank" rel="external">http://download1.rpmfusion.org/free/el/updates/6/SRPMS/exfat-utils-1.0.1-2.el6.src.rpm</a></p>
<p>useradd mockbuild</p>
<p>yum install scons gcc<br>yum install fuse-devel</p>
<p>rpm -ihv fuse-exfat-1.0.1-2.el6.src.rpm exfat-utils-1.0.1-2.el6.src.rpm<br>cd /root/rpmbuild/<br>cd SPECS/<br>rpmbuild -ba fuse-exfat.spec<br>rpmbuild -ba exfat-utils.spec<br>cd ../RPMS/x86_64/<br>rpm -ihv exfat-utils-1.0.1-2.el7.centos.x86_64.rpm fuse-exfat-1.0.1-2.el7.centos.x86_64.rpm</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>FUSE：用户空间文件系统（Filesystem in Userspace），是Linux 中用于挂载某些网络空间，如SSH，到本地文件系统的模块。</p>
<p>rpm -Uvh <a href="http://pkgs.repoforge.org/rpmforge-re]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[centos 7 添加第三方yum源]]></title>
    <link href="http://blog.veryi.com/2014/08/08/w/centos-7-e6-b7-bb-e5-8a-a0-e7-ac-ac-e4-b8-89-e6-96-b9yum-e6-ba-90/"/>
    <id>http://blog.veryi.com/2014/08/08/w/centos-7-e6-b7-bb-e5-8a-a0-e7-ac-ac-e4-b8-89-e6-96-b9yum-e6-ba-90/</id>
    <published>2014-08-08T01:27:06.000Z</published>
    <updated>2015-04-08T01:09:29.033Z</updated>
    <content type="html"><![CDATA[<p>EPEL源</p>
<p>rpm -Uvh <a href="http://dl.fedoraproject.org/pub/epel/beta/7/x86_64/epel-release-7-0.2.noarch.rpm" target="_blank" rel="external">http://dl.fedoraproject.org/pub/epel/beta/7/x86_64/epel-release-7-0.2.noarch.rpm</a></p>
<p>Remi源<br>rpm -Uvh <a href="http://mirrors.hustunique.com/remi/enterprise/remi-release-7.rpm" target="_blank" rel="external">http://mirrors.hustunique.com/remi/enterprise/remi-release-7.rpm</a></p>
<p>RPM Fusion源</p>
<p>rpm -Uvh <a href="http://download1.rpmfusion.org/free/el/updates/6/x86_64/rpmfusion-free-release-6-1.noarch.rpm" target="_blank" rel="external">http://download1.rpmfusion.org/free/el/updates/6/x86_64/rpmfusion-free-release-6-1.noarch.rpm</a></p>
<p>yum install yum-priorities -y</p>
<p>EPEL源<br>EPEL,即Extra Packages for Enterprise Linux,是由 Fedora 社区创建维护，为 RHEL 及衍生发行版如 CentOS、Scientific Linux 等提供高质量软件包的项目。EPEL中含有大量的软件，对官方标准源是一个很好的补充。<br>“EPEL (Extra Packages for Enterprise Linux  ) is a Fedora Special Interest Group that creates, maintains, and manages a high quality set of additional packages for Enterprise Linux, including, but not limited to, Red Hat Enterprise Linux (RHEL), CentOS and Scientific Linux (SL).”<br>wiki:<a href="http://fedoraproject.org/wiki/EPEL" target="_blank" rel="external">http://fedoraproject.org/wiki/EPEL</a><br>Fedora EPEL 下载：<a href="http://mirrors.fedoraproject.org/publiclist/EPEL/" target="_blank" rel="external">http://mirrors.fedoraproject.org/publiclist/EPEL/</a><br>EPEL 下载地址：<a href="http://fedoraproject.org/wiki/EPEL" target="_blank" rel="external">http://fedoraproject.org/wiki/EPEL</a></p>
<p>Remi源<br>Remi源中的软件几乎都是最新稳定版。<br>Remi下载地址：<a href="http://rpms.famillecollet.com/" target="_blank" rel="external">http://rpms.famillecollet.com/</a></p>
<p>RPM Fusion源</p>
<p>RPM Fusion provides software that the <a href="http://fedoraproject.org" target="_blank" rel="external">Fedora Project</a> or <a href="http://www.redhat.com" target="_blank" rel="external">Red Hat</a> doesn’t want to ship. That software is provided as precompiled RPMs for all current Fedora versions and Red Hat Enterprise Linux 5  , 6 and 7; you can use the RPM Fusion repositories with tools like yum and PackageKit. </p>
<p>RPM Fusion is a merger of <a href="http://dribble.org.uk/" target="_blank" rel="external">Dribble</a>, <a href="http://freshrpms.net/" target="_blank" rel="external">Freshrpms</a>, and <a href="http://rpm.livna.org/" target="_blank" rel="external">Livna</a>; our goal is to simplify end-user experience by grouping as much add-on software as possible in a single location.</p>
<p>RepoForge源<br>RepoForge（前RPMForge）是CentOS系统下的软件仓库，拥有4000多种的软件包，被CentOS社区认为是最安全也是最稳定的一个软件仓库。The RepoForge project maintains RPM packages for Red Hat Enterprise Linux (RHEL), CentOS  Linux. It provides a set of repositories compatible with various RHEL-derived distributions.</p>
<p><a href="http://repoforge.org/use/" target="_blank" rel="external">http://repoforge.org/use/</a></p>
<p>rpm -Uvh <a href="http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm" target="_blank" rel="external">http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm</a></p>
<p><a href="http://veryi.com/w/706.html" target="_blank" rel="external">centos 6 参考http://veryi.com/w/706.html</a></p>
]]></content>
    <summary type="html">
    <![CDATA[<p>EPEL源</p>
<p>rpm -Uvh <a href="http://dl.fedoraproject.org/pub/epel/beta/7/x86_64/epel-release-7-0.2.noarch.rpm" target="_blank" rel="ext]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[WordPress 加载 fonts.googleapis.com慢解决办法]]></title>
    <link href="http://blog.veryi.com/2014/07/24/w/wordpress-e5-8a-a0-e8-bd-bd-fonts-googleapis-com-e6-85-a2-e8-a7-a3-e5-86-b3-e5-8a-9e-e6-b3-95/"/>
    <id>http://blog.veryi.com/2014/07/24/w/wordpress-e5-8a-a0-e8-bd-bd-fonts-googleapis-com-e6-85-a2-e8-a7-a3-e5-86-b3-e5-8a-9e-e6-b3-95/</id>
    <published>2014-07-24T03:00:13.000Z</published>
    <updated>2015-04-08T01:09:29.100Z</updated>
    <content type="html"><![CDATA[<p>如何解决WordPress一直加载”fonts.googleapis.com”.WordPress博客主题中引用了google字体库（fonts.googleapis.com）中的字体，导致网站打开速度超级慢，在国内使用google提供的网络服务都比较慢，建议最好不要使用。</p>
<p>第一步，新建google-font.css 放在\wp-includes\css目录中（附该css文件的内容如下）：<br>cd wp-includes/<br>vim google-font.css<br>@font-face {<br>font-family: ‘Open Sans’;<br>font-style: normal;<br>font-weight: 300;<br>src: local(‘Open Sans Light’), local(‘OpenSans-Light’), url(../fonts/google/DXI1ORHCpsQm3Vp6mXoaTRa1RVmPjeKy21_GQJaLlJI.woff) format(‘woff’);<br>}<br>@font-face {<br>font-family: ‘Open Sans’;<br>font-style: normal;<br>font-weight: 400;<br>src: local(‘Open Sans’), local(‘OpenSans’), url(../fonts/google/u-WUoqrET9fUeobQW7jkRT8E0i7KZn-EPnyo3HZu7kw.woff) format(‘woff’);<br>}<br>@font-face {<br>font-family: ‘Open Sans’;<br>font-style: normal;<br>font-weight: 600;<br>src: local(‘Open Sans Semibold’), local(‘OpenSans-Semibold’), url(../fonts/google/MTP_ySUJH_bn48VBG8sNSha1RVmPjeKy21_GQJaLlJI.woff) format(‘woff’);<br>}<br>@font-face {<br>font-family: ‘Open Sans’;<br>font-style: italic;<br>font-weight: 300;<br>src: local(‘Open Sans Light Italic’), local(‘OpenSansLight-Italic’), url(../fonts/google/PRmiXeptR36kaC0GEAetxrsuoFAk0leveMLeqYtnfAY.woff) format(‘woff’);<br>}<br>@font-face {<br>font-family: ‘Open Sans’;<br>font-style: italic;<br>font-weight: 400;<br>src: local(‘Open Sans Italic’), local(‘OpenSans-Italic’), url(../fonts/google/xjAJXh38I15wypJXxuGMBtIh4imgI8P11RFo6YPCPC0.woff) format(‘woff’);<br>}<br>@font-face {<br>font-family: ‘Open Sans’;<br>font-style: italic;<br>font-weight: 600;<br>src: local(‘Open Sans Semibold Italic’), local(‘OpenSans-SemiboldItalic’), url(../fonts/google/PRmiXeptR36kaC0GEAetxmWeb5PoA5ztb49yLyUzH1A.woff) format(‘woff’);<br>}</p>
<p>第二步，修改 \wp-includes\script-loader.php 文件，找到：<br>vim script-loader.php</p>
<p>$open_sans_font_url = “//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,300,400,600subset=$subsets”;</p>
<p>替换成：</p>
<p>$open_sans_font_url = “/wp-includes/css/google-font.css”;</p>
<p>Blue Grace主题不须以下修改。<br>第三步，在WordPress模板文件中找到functions.php，使用”//“注释掉引用google字体库部分即可。这里根据每个模板的不同而有所差异：<br>cd ..<br>cd wp-content/<br>cd themes/<br>vim twentyfourteen/functions.php<br>$font_url = add_query_arg( ‘family’, urlencode( ‘Lato:300,400,700,900,300italic,400italic,700italic’ ), “//fonts.googleapis.com/css” );</p>
<p>在WordPress模板文件中找到functions.php<br>将本地URL加上并使用”//“注释掉引用google字体库部分即可。<br>function twentyfourteen_font_url() {<br>$font_url = ‘//www.amznz.com/wp-content/themes/twentyfourteen/fonts/fonts.css’;<br>/*</p>
<ul>
<li>Translators: If there are characters in your language that are not supported</li>
<li>by Lato, translate this to ‘off’. Do not translate into your own language.<br>*/<br>// if ( ‘off’ !== _x( ‘on’, ‘Lato font: on or off’, ‘twentyfourteen’ ) ) {<br>// $font_url = add_query_arg( ‘family’, urlencode( ‘Lato:300,400,700,900,300italic,400italic,700italic’ ), “//fonts.googleapis.com/css” );<br>// }<br>return $font_url;<br>}</li>
</ul>
]]></content>
    <summary type="html">
    <![CDATA[<p>如何解决WordPress一直加载”fonts.googleapis.com”.WordPress博客主题中引用了google字体库（fonts.googleapis.com）中的字体，导致网站打开速度超级慢，在国内使用google提供的网络服务都比较慢，建议最好不要使用。]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[Discuz! X3.1 升级到 Comsenz Discuz! X3.2 正式版]]></title>
    <link href="http://blog.veryi.com/2014/07/24/w/discuz-x3-1-e5-8d-87-e7-ba-a7-e5-88-b0-comsenz-discuz-x3-2-e6-ad-a3-e5-bc-8f-e7-89-88/"/>
    <id>http://blog.veryi.com/2014/07/24/w/discuz-x3-1-e5-8d-87-e7-ba-a7-e5-88-b0-comsenz-discuz-x3-2-e6-ad-a3-e5-bc-8f-e7-89-88/</id>
    <published>2014-07-24T02:58:05.000Z</published>
    <updated>2015-04-08T01:09:29.038Z</updated>
    <content type="html"><![CDATA[<p>查看论坛版本是GBK还是utf8，在论坛任意一个页面，查看源代码，找到这行<br>meta http-equiv=”Content-Type” content=”text/html; charset=utf-8” /<br>那个carset=后面就可以知道你的论坛是GBK还是utf8 。</p>
<p>下载<br>wget <a href="http://download.comsenz.com/DiscuzX/3.2/Discuz_X3.2_SC_UTF8.zip" target="_blank" rel="external">http://download.comsenz.com/DiscuzX/3.2/Discuz_X3.2_SC_UTF8.zip</a><br>cd temp<br>unzip ../Discuz_X3.2_SC_UTF8.zip</p>
<p>cd bbs<br>cd config<br>vim config_global.php</p>
<p>升级：<br>1. DiscuzX 程序  1.0, 1.5 2.0 ， 2.5Beta， 2.5RC，2.5， 3.0<br>1）备份数据库<br>nice -5 tar cf - bbs —exclude=’uc_server/data/tmp’  —exclude=’data/*’  |nice -10 gzip -1  forums-html-<code>date +%F</code>.tar.gz<br>/usr/local/mysql/bin/mysqldump -uroot -p —opt  —single-transaction —flush-logs —master-data=2 forumsdb2 |gzip -1  forumsdb2-<code>date +%F</code>.sql.gz</p>
<p>2）建立文件夹 old，旧程序除了 data ，  config， uc_client, uc_server 目录以外的程序移动进入 old目录中<br>mkdir old<br>mv bbs/* old<br>mv old/{data,config,uc_client,uc_server} bbs</p>
<p>3） 上传 3.2 程序（压缩包中 upload 目录中的文件）， 如上传时候提示覆盖目录，请选择“是”<br>\cp -af * ../../bbs/<br>cd ../utility/<br>cp update.php ../../bbs/install/</p>
<p>4）上传安装包 utility 目录中的 update.php 到论坛 install 目录，删除 install 目录中的index.php<br>cd ../../bbs/install/<br>mv index.php /tmp/<br>pwd<br>cd ../data/<br>pwd<br>ls -al<br>rm update.lock</p>
<p>执行 <a href="http://你的域名/论坛路径/install/update.php" target="_blank" rel="external">http://你的域名/论坛路径/install/update.php</a></p>
<p>参照提示进行升级即可。升级时间随着数据的大小和服务器性能而变。</p>
<p>升级完毕，进入后台，更新缓存，并测试功能。<br>升级成功后，old目录中的文件可以删除了。</p>
<p>cd ../install/<br>rm update.php</p>
<p>复制表情图片：<br>cp -a ../../../../old/static/image/smiley/heshi/ .</p>
<p>增加表情图片操作步骤：<br>1.找一组用作表情的图片，放在同一文件中，命名。建议用名件文用英文数字，有汉字很可能会不成功，没有具体测试。<br>本实例中选择的百度表情。表情文件夹名“heshi”<br>2.运用FTP工具，将表情文件夹传输到服务器端的“/www/static/image/smiley/”目录下。<br>3.然后在后台管理页面 界面——表情管理——启用——命名——更新 ，到详情中勾选编号。</p>
<p>参考:<br><a href="http://www.discuz.net/forum-10-1.html" target="_blank" rel="external">http://www.discuz.net/forum-10-1.html</a><br>全新安装：请参照以往版本的安装过程进行，上传程序，并执行 <a href="http://你的域名/论坛/install/" target="_blank" rel="external">http://你的域名/论坛/install/</a></p>
<p>补丁包下载和升级<br>wget <a href="http://download.comsenz.com/DiscuzX/3.2/patch/DX32_R20140618_SC_UTF8.zip" target="_blank" rel="external">http://download.comsenz.com/DiscuzX/3.2/patch/DX32_R20140618_SC_UTF8.zip</a><br>cd temp/<br>unzip ../DX32_R20140618_SC_UTF8.zip<br>cd ..<br>tar cfz dz-sst.tgz bbs/{source,static,template}<br>tar tvfz dz-sst.tgz |less<br>\cp -a temp/* bbs/<br>补丁升级完成。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>查看论坛版本是GBK还是utf8，在论坛任意一个页面，查看源代码，找到这行<br>meta http-equiv=”Content-Type” content=”text/html; charset=utf-8” /<br>那个carset=后面就可以知道你的论坛是GBK还]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[RHEL完全兼容的linux发行版使用yum安装升级及第三方软件库]]></title>
    <link href="http://blog.veryi.com/2014/03/14/w/rhel%20yum%20upgrade/"/>
    <id>http://blog.veryi.com/2014/03/14/w/rhel yum upgrade/</id>
    <published>2014-03-14T09:58:45.000Z</published>
    <updated>2015-04-08T01:09:29.092Z</updated>
    <content type="html"><![CDATA[<p> CentOS默认自带CentOS-Base.repo源，但官方源中去除了很多有版权争议的软件，而且安装的软件也不是最新的稳定版。Fedora自带 的源中也找不到很多多媒体软件，如果需要安装，必需先添加其他源，如RPMFusion和RPMForge等第三方软件库。以下软件库适用于与RHEL完 全兼容的linux发行版，如CentOS,Fedora,Scientific Linux。</p>
<p>RHEL系列使用yum安装升级，删除原有的yum源：</p>
<pre><code>rpm -a<span class="string">q | grep yum|</span>xargs rpm -e --nodeps
</code></pre><p>使用CentOS 6.5 x86_64的yum源</p>
<pre><code>rpm -ivh python-iniparse-<span class="number">0.3</span>.<span class="number">1</span>-<span class="number">2.1</span><span class="class">.el6</span><span class="class">.noarch</span><span class="class">.rpm</span>

rpm -ivh yum-metadata-parser-<span class="number">1.1</span>.<span class="number">2</span>-<span class="number">14.1</span><span class="class">.el6</span><span class="class">.x86_64</span><span class="class">.rpm</span>

rpm -ivh yum-metadata-parser-<span class="number">1.1</span>.<span class="number">2</span>-<span class="number">16</span><span class="class">.el6</span><span class="class">.x86_64</span><span class="class">.rpm</span>

rpm -ivh yum-<span class="number">3.2</span>.<span class="number">29</span>-<span class="number">40</span><span class="class">.el6</span><span class="class">.centos</span><span class="class">.noarch</span><span class="class">.rpm</span> yum-plugin-fastestmirror-<span class="number">1.1</span>.<span class="number">30</span>-<span class="number">14</span><span class="class">.el6</span><span class="class">.noarch</span><span class="class">.rpm</span>

rpm -ihv PackageKit-yum-<span class="number">0.5</span>.<span class="number">8</span>-<span class="number">21</span><span class="class">.el6</span><span class="class">.x86_64</span><span class="class">.rpm</span> PackageKit-yum-plugin-<span class="number">0.5</span>.<span class="number">8</span>-<span class="number">21</span><span class="class">.el6</span><span class="class">.x86_64</span><span class="class">.rpm</span>
</code></pre><p>清理yum缓存</p>
<pre><code><span class="keyword">yum</span> clean <span class="literal">all</span>

<span class="keyword">yum</span> makecache
</code></pre><p>第三方源</p>
<pre><code>rpm -Uvh <span class="string">http:</span><span class="comment">//mirrors.sohu.com/fedora-epel/6/x86_64/epel-release-6-8.noarch.rpm</span>

rpm -Uvh <span class="string">http:</span><span class="comment">//rpms.famillecollet.com/enterprise/remi-release-6.rpm</span>
</code></pre><p>介绍：</p>
<p>EPEL源</p>
<pre><code>EPEL,即Extra Packages <span class="keyword">for</span> Enterprise Linux,是由 Fedora 社区创建维护，为 RHEL 及衍生发行版如 CentOS、Scientific Linux 等提供高质量软件包的项目。EPEL中含有大量的软件，对官方标准源是一个很好的补充。

EPEL (Extra Packages <span class="keyword">for</span> Enterprise Linux ) is <span class="operator">a</span> Fedora Special Interest Group that creates, maintains, <span class="operator">and</span> manages <span class="operator">a</span> high quality <span class="built_in">set</span> <span class="operator">of</span> additional packages <span class="keyword">for</span> Enterprise Linux, including, but <span class="operator">not</span> limited <span class="built_in">to</span>, Red Hat Enterprise Linux (RHEL), CentOS <span class="operator">and</span> Scientific Linux (SL).

wiki:<span class="keyword">http</span>://fedoraproject.org/wiki/EPEL

Fedora EPEL 下载：<span class="keyword">http</span>://mirrors.fedoraproject.org/publiclist/EPEL/

EPEL 下载地址：<span class="keyword">http</span>://fedoraproject.org/wiki/EPEL
</code></pre><p>64位，6.0版安装：</p>
<pre><code>rpm -<span class="constant">Uvh </span><span class="symbol">http:</span>/<span class="regexp">/dl.fedoraproject.org/pub</span><span class="regexp">/epel/</span><span class="number">6</span>/x86_64/epel-release-<span class="number">6</span>-<span class="number">8</span>.noarch.rpm

<span class="symbol">http:</span>/<span class="regexp">/dl.fedoraproject.org/pub</span><span class="regexp">/epel/</span>
</code></pre><p>Remi源</p>
<pre><code>Remi源中的软件几乎都是最新稳定版。

Remi下载地址：<span class="string">http:</span><span class="comment">//rpms.famillecollet.com/</span>
</code></pre><p>RPMForge源</p>
<pre><code><span class="constant">RPMForge是CentOS系</span>统下的软件仓库，拥有<span class="number">4000</span>多种的软件包，被<span class="constant">CentOS社</span>区认为是最安全也是最稳定的一个软件仓库。

<span class="constant">RPMForge官</span>方网站：<span class="symbol">http:</span>/<span class="regexp">/repoforge.org/</span>

<span class="constant">RPMForge下</span>载地址：

<span class="number">32</span>位：<span class="symbol">http:</span>/<span class="regexp">/apt.sw.be/redhat</span><span class="regexp">/el6/en</span><span class="regexp">/i386/rpmforge</span><span class="regexp">/RPMS/</span>

<span class="number">64</span>位：<span class="symbol">http:</span>/<span class="regexp">/apt.sw.be/redhat</span><span class="regexp">/el6/en</span><span class="regexp">/x86_64/rpmforge</span><span class="regexp">/RPMS/</span>
</code></pre><p>RPMFusion源</p>
<pre><code>如果您现在正在使用Fedora，各种音频软件如MPlayer在标准源中是没有的，一般先安装RPMFusion源，之后就可以放便地yum install各种需要的软件。

CentOS官方说RPMFusion软件库里面的软件稳定性不如rpmforge。

RPMFusion官网：<span class="string">http:</span><span class="comment">//rpmfusion.org/</span>

RHEL <span class="number">6</span>/CentOS <span class="number">6</span> ：
</code></pre><p>su -c &#39;rpm -Uvh <a href="http://download1.rpmfusion.org/free/el/updates/testing/6/i386/rpmfusion-free-release-6-0.1.noarch.rpm" target="_blank" rel="external">http://download1.rpmfusion.org/free/el/updates/testing/6/i386/rpmfusion-free-release-6-0.1.noarch.rpm</a> <a href="http://download1.rpmfusion.org/nonfree/el/updates/testing/6/i386/rpmfusion-nonfree-release-6-0.1.noarch.rpm&amp;#39" target="_blank" rel="external">http://download1.rpmfusion.org/nonfree/el/updates/testing/6/i386/rpmfusion-nonfree-release-6-0.1.noarch.rpm&amp;#39</a>;</p>
<p>其他版本请详见：</p>
<pre><code><span class="label">http:</span>//rpmfusion<span class="preprocessor">.org</span>/Configuration
</code></pre><p>如何使用各种源</p>
<pre><code>以上源对<span class="constant">Cent</span>OS等系统完全兼容，但各软件库之间并不能保证完全兼容没有冲突。如果您需要使用以上源，您需要安装yum-priorities插件。安装yum-priorities插件后，您可以给各个源设置优先级<span class="literal">priority</span>。一般设置官方标准源优先级为<span class="number">1</span>，最高，第三方推荐<span class="number">10</span>
</code></pre><p>priority=N （N为1到99的正整数，数值越小越优先）</p>
<p>[base], [addons], [updates], [extras]  priority=1</p>
<pre><code>[CentOSplus],[contrib]  <span class="variable">priority=</span><span class="number">2</span>

其他第三的软件源为：<span class="variable">priority=</span>N （推荐N10）
</code></pre><h1 id="vim_CentOS-Base-repo">vim CentOS-Base.repo</h1><p>[base]</p>
<pre><code><span class="variable">name=</span>CentOS-$releasever - Base

<span class="variable">mirrorlist=</span>http://mirrorlist.centos.org/?<span class="variable">release=</span>$<span class="variable">releaseverarch=</span>$<span class="variable">basearchrepo=</span>os

<span class="comment">#baseurl=http://mirror.centos.org/centos/$releasever/os/$basearch/</span>

<span class="variable">gpgcheck=</span><span class="number">1</span>

<span class="variable">gpgkey=</span>file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-<span class="number">6</span>

<span class="variable">priority=</span><span class="number">1</span>
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p> CentOS默认自带CentOS-Base.repo源，但官方源中去除了很多有版权争议的软件，而且安装的软件也不是最新的稳定版。Fedora自带 的源中也找不到很多多媒体软件，如果需要安装，必需先添加其他源，如RPMFusion和RPMForge等第三方软件库。以下软件库]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[centos修改dhcpd日志不记入系统日志]]></title>
    <link href="http://blog.veryi.com/2014/03/12/w/centos-e4-bf-ae-e6-94-b9dhcpd-e6-97-a5-e5-bf-97-e4-b8-8d-e8-ae-b0-e5-85-a5-e7-b3-bb-e7-bb-9f-e6-97-a5-e5-bf-97/"/>
    <id>http://blog.veryi.com/2014/03/12/w/centos-e4-bf-ae-e6-94-b9dhcpd-e6-97-a5-e5-bf-97-e4-b8-8d-e8-ae-b0-e5-85-a5-e7-b3-bb-e7-bb-9f-e6-97-a5-e5-bf-97/</id>
    <published>2014-03-12T07:40:01.000Z</published>
    <updated>2015-04-08T01:09:29.034Z</updated>
    <content type="html"><![CDATA[<p>编辑dhcp服务配置文件</p>
<pre><code><span class="keyword">vim</span> /etc/dhcp/dhcpd.<span class="keyword">conf</span> 在末尾加入

<span class="built_in">log</span>-facility local4;



编辑 rsyslog服务配置文件，修改/var/<span class="built_in">log</span>/<span class="keyword">messages</span>加入local4.none /var/<span class="built_in">log</span>/<span class="keyword">messages</span>

<span class="keyword">vim</span> /etc/rsyslog.<span class="keyword">conf</span> 加入

# Save dhcpd <span class="keyword">messages</span> also <span class="keyword">to</span> dhcpd.<span class="built_in">log</span>

local4.* /var/<span class="built_in">log</span>/dhcpd.<span class="built_in">log</span>

#*.info;mail.none;authpriv.none;cron.none /var/<span class="built_in">log</span>/<span class="keyword">messages</span>

*.info;mail.none;authpriv.none;cron.none;local4.none /var/<span class="built_in">log</span>/<span class="keyword">messages</span>
</code></pre><p>重启 rsyslog 服务</p>
<pre><code>service rsyslog restart

重启 dhcpd 服务

service dhcpd restart

tail -f /<span class="keyword">var</span>/<span class="keyword">log</span>/dhcpd.<span class="keyword">conf</span>

tail -f /<span class="keyword">var</span>/<span class="keyword">log</span>/messges
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p>编辑dhcp服务配置文件</p>
<pre><code><span class="keyword">vim</span> /etc/dhcp/dhcpd.<span class="keyword">conf</span> 在末尾加入

<span class="built_]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[听闻随转修心要，少力即脱生死城]]></title>
    <link href="http://blog.veryi.com/2013/11/29/w/e5-90-ac-e9-97-bb-e9-9a-8f-e8-bd-ac-e4-bf-ae-e5-bf-83-e8-a6-81-ef-bc-8c-e5-b0-91-e5-8a-9b-e5-8d-b3-e8-84-b1-e7-94-9f-e6-ad-bb-e5-9f-8e/"/>
    <id>http://blog.veryi.com/2013/11/29/w/e5-90-ac-e9-97-bb-e9-9a-8f-e8-bd-ac-e4-bf-ae-e5-bf-83-e8-a6-81-ef-bc-8c-e5-b0-91-e5-8a-9b-e5-8d-b3-e8-84-b1-e7-94-9f-e6-ad-bb-e5-9f-8e/</id>
    <published>2013-11-29T01:52:55.000Z</published>
    <updated>2015-04-08T01:09:29.054Z</updated>
    <content type="html"><![CDATA[<p>无限生命，暇满人生、等流、增上。</p>
<p>日常法师宣讲 菩提道次第广论 <a href="https://jianguoyun.com/p/DYxCTYoQsfvdBRifSQ" target="_blank" rel="external">下载https://jianguoyun.com/p/DYxCTYoQsfvdBRifSQ</a>。</p>
]]></content>
    <summary type="html">
    <![CDATA[<p>无限生命，暇满人生、等流、增上。</p>
<p>日常法师宣讲 菩提道次第广论 <a href="https://jianguoyun.com/p/DYxCTYoQsfvdBRifSQ" target="_blank" rel="external">下载https://jia]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[用lvm在线扩容文件系统]]></title>
    <link href="http://blog.veryi.com/2013/11/18/w/e7-94-a8lvm-e5-9c-a8-e7-ba-bf-e6-89-a9-e5-ae-b9-e6-96-87-e4-bb-b6-e7-b3-bb-e7-bb-9f/"/>
    <id>http://blog.veryi.com/2013/11/18/w/e7-94-a8lvm-e5-9c-a8-e7-ba-bf-e6-89-a9-e5-ae-b9-e6-96-87-e4-bb-b6-e7-b3-bb-e7-bb-9f/</id>
    <published>2013-11-18T10:13:31.000Z</published>
    <updated>2015-04-08T01:09:29.073Z</updated>
    <content type="html"><![CDATA[<p>LVM (Logic Volume Management,逻辑卷管理)。以下在centos系统测试通过。</p>
<p>vgs</p>
<pre><code>VG <span class="id">#PV</span> <span class="id">#LV</span> <span class="id">#SN</span> Attr VSize VFree 

web_doc <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> wz--n- <span class="number">465.76</span>G <span class="number">270.45</span>G
</code></pre><p>lvs LV VG Attr LSize Origin Snap% Move Log Copy% Convert</p>
<pre><code><span class="title">www</span> web_doc -wi-ao <span class="number">195</span>.<span class="number">31G</span> 
</code></pre><p>lvextend -L +100g /dev/mapper/web_doc-www</p>
<pre><code>Extending logical <span class="built_ins">volume</span> www to 295.31 GB

Logical <span class="built_ins">volume</span> www successfully resized
</code></pre><p>resize2fs /dev/mapper/web_doc-www</p>
<pre><code>resize2fs <span class="number">1.39</span> (<span class="number">29</span>-May-<span class="number">2006</span>)

Filesystem <span class="keyword">at</span> /dev/mapper/web_doc-www <span class="keyword">is</span> mounted <span class="function_start"><span class="keyword">on</span></span> /opt; <span class="function_start"><span class="keyword">on</span></span>-line resizing required

Performing an <span class="function_start"><span class="keyword">on</span></span>-line resize <span class="keyword">of</span> /dev/mapper/web_doc-www <span class="keyword">to</span> <span class="number">77414400</span> (<span class="number">4</span>k) blocks.
</code></pre><p>df -m</p>
<pre><code>Filesystem <span class="number">1</span>M-blocks Used Available Use% Mounted <span class="function_start"><span class="keyword">on</span></span>

/dev/mapper/web_doc-www

 <span class="number">297655</span> <span class="number">170871</span> <span class="number">111669</span> <span class="number">61</span>% /opt
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p>LVM (Logic Volume Management,逻辑卷管理)。以下在centos系统测试通过。</p>
<p>vgs</p>
<pre><code>VG <span class="id">#PV</span> <span class="id">#LV</span>]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[linux系统忘记MySQL密码的恢复方法]]></title>
    <link href="http://blog.veryi.com/2013/11/15/w/linux-e7-b3-bb-e7-bb-9f-e5-bf-98-e8-ae-b0mysql-e5-af-86-e7-a0-81-e7-9a-84-e6-81-a2-e5-a4-8d-e6-96-b9-e6-b3-95/"/>
    <id>http://blog.veryi.com/2013/11/15/w/linux-e7-b3-bb-e7-bb-9f-e5-bf-98-e8-ae-b0mysql-e5-af-86-e7-a0-81-e7-9a-84-e6-81-a2-e5-a4-8d-e6-96-b9-e6-b3-95/</id>
    <published>2013-11-15T10:43:46.000Z</published>
    <updated>2015-04-08T01:09:29.086Z</updated>
    <content type="html"><![CDATA[<p>以下在centos测试通过。</p>
<p>1. 停止mysqld服务；</p>
<pre><code>/etc/init.d/mysql <span class="keyword">stop</span>
</code></pre><p>2. 用以下命令启动MySQL，以不检查权限的方式启动；</p>
<pre><code>cd /usr/<span class="keyword">local</span>/mysql/bin

./mysqld_safe <span class="comment">--skip-grant-tables </span>

或者

mysqld <span class="comment">--skip-grant-tables </span>

<span class="number">3</span>\. 用空密码方式使用root用户登录 MySQL；

./mysql -uroot -p
</code></pre><p>4. 修改root用户的密码；</p>
<pre><code><span class="operator"><span class="keyword">update</span> mysql.<span class="keyword">user</span> <span class="keyword">set</span> <span class="keyword">password</span>=<span class="keyword">PASSWORD</span>(&amp;#<span class="number">39</span>;</span>newpass&amp;#39;) where User=&amp;#39;root&amp;#39;;

<span class="operator"><span class="keyword">flush</span> <span class="keyword">privileges</span>;</span>

quit
</code></pre><p>重新启动MySQL</p>
<pre><code><span class="regexp">/etc/i</span>nit.d<span class="regexp">/mysql restart</span>
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p>以下在centos测试通过。</p>
<p>1. 停止mysqld服务；</p>
<pre><code>/etc/init.d/mysql <span class="keyword">stop</span>
</code></pre><p>2. 用以下命令启动MySQL，以]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[php5.4 织梦dedecms后台登录空白的解决方法]]></title>
    <link href="http://blog.veryi.com/2013/09/10/w/php5-4-e7-bb-87-e6-a2-a6dedecms-e5-90-8e-e5-8f-b0-e7-99-bb-e5-bd-95-e7-a9-ba-e7-99-bd-e7-9a-84-e8-a7-a3-e5-86-b3-e6-96-b9-e6-b3-95/"/>
    <id>http://blog.veryi.com/2013/09/10/w/php5-4-e7-bb-87-e6-a2-a6dedecms-e5-90-8e-e5-8f-b0-e7-99-bb-e5-bd-95-e7-a9-ba-e7-99-bd-e7-9a-84-e8-a7-a3-e5-86-b3-e6-96-b9-e6-b3-95/</id>
    <published>2013-09-10T09:14:08.000Z</published>
    <updated>2015-04-08T01:09:29.091Z</updated>
    <content type="html"><![CDATA[<p>linux，php5.4， 织梦dedecms后台登录空白，原因：</p>
<p>include/userlogin.class.php，里面有一个keepuser()函数，是用session_register来注册一个session变量，但是在php5.4中已经移除了这个功能</p>
<p>把@session_register($this-keepUserIDTag); 注释掉，然后改为</p>
<pre><code><span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="variable">$_SESSION</span>[<span class="variable">$this</span>-&gt;keepUserIDTag]))
</code></pre><p>如下：</p>
<pre><code><span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="variable">$_SESSION</span>[<span class="variable">$this</span>-&gt;keepUserIDTag]))

<span class="comment">//@session_register($this-keepUserIDTag);</span>
</code></pre><p>附，nginx日志报错：</p>
<pre><code>nginx fastcgi Primary <span class="keyword">script</span> unknown when configuring userdir
</code></pre><p>修改：</p>
<pre><code> location ~ <span class="subst">\</span><span class="built_in">.</span>php$ {

 <span class="attribute">...</span>

 fastcgi_param SCRIPT_FILENAME <span class="variable">$document_root</span><span class="variable">$fastcgi_script_name</span>;

 <span class="attribute">...</span>

 }

为：

 location ~ <span class="subst">\</span><span class="built_in">.</span>php$ {

 <span class="attribute">...</span>

 fastcgi_param SCRIPT_FILENAME <span class="variable">$request_filename</span>;

 fastcgi_param REQUEST_URI <span class="variable">$uri</span><span class="subst">?</span><span class="variable">$args</span>;

 <span class="attribute">...</span>

 }
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p>linux，php5.4， 织梦dedecms后台登录空白，原因：</p>
<p>include/userlogin.class.php，里面有一个keepuser()函数，是用session_register来注册一个session变量，但是在php5.4中已经移除了这个]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[在线文档web浏览-pdf转换为swf]]></title>
    <link href="http://blog.veryi.com/2013/07/25/w/e5-9c-a8-e7-ba-bf-e6-96-87-e6-a1-a3web-e6-b5-8f-e8-a7-88-pdf-e8-bd-ac-e6-8d-a2-e4-b8-baswf/"/>
    <id>http://blog.veryi.com/2013/07/25/w/e5-9c-a8-e7-ba-bf-e6-96-87-e6-a1-a3web-e6-b5-8f-e8-a7-88-pdf-e8-bd-ac-e6-8d-a2-e4-b8-baswf/</id>
    <published>2013-07-25T03:30:32.000Z</published>
    <updated>2015-04-08T01:09:29.057Z</updated>
    <content type="html"><![CDATA[<p> 在线文档协同浏览，在WEB应用中实现百度文库那样可以在线浏览文档的功能。用户上传一个office文档，如doc、ppt、pdf之类的，然后在浏览器里显示出来。doc,ppt,xls,txt需转换为pdf ，分割pdf ，pdf转换为swf 。</p>
<p>安装openoffice：</p>
<p>yum groupinstall Office Suite and Productivity -y</p>
<p>yum list openoffice*</p>
<p>安装中文语言包</p>
<p>yum install libreoffice-langpack-zh*</p>
<p>centos 5 用</p>
<p>yum groupinstall Office/Productivity</p>
<p>yum -y install openoffice.org-langpack-zh_CN</p>
<p>安装x11字体：</p>
<p>yum install xorg-x11-fonts*</p>
<p>yum install libXfont</p>
<p>安装Xvfb：</p>
<p>yum install xorg-x11-server-Xvfb</p>
<p>把pdf转换为swf，对于centos，安装swftools，需要添加rpmforge源，参见<a href="http://veryi.com/w/327.html" title="Link to 中国国内的Centos yum源及rpm仓库" target="_blank" rel="external">中国国内的Centos yum源及rpm仓库</a>：</p>
<p>rpm -Uhv <a href="http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm" target="_blank" rel="external">http://pkgs.repoforge.org/rpmforge-release/rpmforge-release-0.5.3-1.el6.rf.x86_64.rpm</a></p>
<p>centos5: rpm -Uhv <a href="http://apt.sw.be/redhat/el5/en/x86_64/rpmforge/RPMS//rpmforge-release-0.3.6-1.el5.rf.x86_64.rpm" target="_blank" rel="external">http://apt.sw.be/redhat/el5/en/x86_64/rpmforge/RPMS//rpmforge-release-0.3.6-1.el5.rf.x86_64.rpm</a></p>
<p>yum install swftools -y</p>
<p>安装xpdf语言包。下载xpdf-chinese-simplified.tar.gz文件，解压到/usr/share/xpdf下。下载字库文件gbsn00lp.ttf 、gkai00mp.ttf 等。</p>
<pre><code>wget <span class="symbol">ftp:</span>/<span class="regexp">/ftp.foolabs.com/pub</span><span class="regexp">/xpdf/xpdf</span>-chinese-simplified.tar.gz
</code></pre><p>tar zxf xpdf-chinese-simplified.tar.gz -C /usr/local/src</p>
<pre><code>mkdir <span class="regexp">/usr/</span>share/xpdf

cd <span class="regexp">/usr/</span>local/src

mv xpdf-chinese-simplified <span class="regexp">/usr/</span>share/xpdf
</code></pre><p>cd -</p>
<p>cp gbsn00lp.ttf gkai00mp.ttf /usr/share/xpdf/xpdf-chinese-simplified/CMap/</p>
<pre><code>cd <span class="regexp">/usr/</span>share<span class="regexp">/xpdf/</span>xpdf-chinese-simplified
</code></pre><p>vim add-to-xpdfrc</p>
<pre><code>cidToUnicode Adobe-GB1 <span class="regexp">/usr/</span>share<span class="regexp">/xpdf/</span>xpdf-chinese-simplified/Adobe-GB1.cidToUnicode

unicodeMap ISO-<span class="number">2022</span>-CN <span class="regexp">/usr/</span>share<span class="regexp">/xpdf/</span>xpdf-chinese-simplified/ISO-<span class="number">2022</span>-CN.unicodeMap

unicodeMap EUC-CN <span class="regexp">/usr/</span>share<span class="regexp">/xpdf/</span>xpdf-chinese-simplified/EUC-CN.unicodeMap

unicodeMap GBK <span class="regexp">/usr/</span>share<span class="regexp">/xpdf/</span>xpdf-chinese-simplified/GBK.unicodeMap

cMapDir Adobe-GB1 <span class="regexp">/usr/</span>share<span class="regexp">/xpdf/</span>xpdf-chinese-simplified/CMap

toUnicodeDir <span class="regexp">/usr/</span>share<span class="regexp">/xpdf/</span>xpdf-chinese-simplified/CMap

#----- end Chinese Simplified support <span class="keyword">package</span>

displayCIDFontTT Adobe-GB1 <span class="regexp">/usr/</span>share<span class="regexp">/xpdf/</span>xpdf-chinese-simplified<span class="regexp">/CMap/</span>gkai00mp.ttf
</code></pre><p>命令行启动测试：</p>
<p>Xvfb :1 -screen 0 800x600x24 </p>
<pre><code>soffice -headless <span class="variable">-accept=</span>socket,<span class="variable">host=</span><span class="number">127.0</span>.<span class="number">0.1</span>,<span class="variable">port=</span><span class="number">8100</span>;urp; -nofirstartwizard -display :<span class="number">1</span> 
</code></pre><p>运行和自启动：</p>
<pre><code>vim <span class="regexp">/etc/i</span>nit.d<span class="regexp">/soffice</span>
</code></pre><p>以下脚本在centos5 centos6通过</p>
<h1 id="!/bin/bash">!/bin/bash</h1><h1 id="Boot_open_office_so_that_Alfresco_can_do_transforms-">Boot open office so that Alfresco can do transforms.</h1><pre><code><span class="preprocessor"># chkconfig: 2345 55 25</span>

<span class="preprocessor"># description: OpenOffice Headless</span>

<span class="preprocessor">#</span>

<span class="preprocessor"># processname: soffice</span>
</code></pre><h1 id="source_function_library">source function library</h1><pre><code>. <span class="regexp">/etc/</span>rc.d<span class="regexp">/init.d/</span>functions
</code></pre><p>RETVAL=0</p>
<p>VDISPLAY=&#39;99&#39;</p>
<pre><code>#SOFFICE_PATH=&amp;<span class="string">#39</span>;/usr/lib/libreoffice/<span class="keyword">program</span>/&amp;<span class="string">#39</span>;

SOFFICE_PATH=&amp;<span class="string">#39</span>;/usr/lib64/openoffice.org3/<span class="keyword">program</span>&amp;<span class="string">#39</span>;
</code></pre><h1 id="SOFFICE_PATH=&#39;/usr/lib/openoffice-org3/program&#39;">SOFFICE_PATH=&#39;/usr/lib/openoffice.org3/program&#39;</h1><pre><code>SOFFICE_ARGS1<span class="subst">=-</span>nofirststartwizard <span class="attribute">-nologo</span> <span class="attribute">-headless</span> <span class="attribute">-display</span> :<span class="variable">$VDISPLAY</span> 

SOFFICE_ARGS2<span class="subst">=&amp;</span><span class="variable">#39</span>;<span class="attribute">-accept</span><span class="subst">=</span>socket,host<span class="subst">=</span>localhost,port<span class="subst">=</span><span class="number">8100</span>;urp;StarOffice<span class="built_in">.</span>ServiceManager<span class="subst">&amp;</span><span class="variable">#39</span>;

SOFFICE_PIDFILE<span class="subst">=</span>/<span class="built_in">var</span>/run/soffice<span class="built_in">.</span>bin<span class="built_in">.</span>pid
</code></pre><p>XVFB=/usr/bin/Xvfb</p>
<pre><code>XVFB_ARGS=:<span class="variable">$VDISPLAY</span> -screen <span class="number">0</span> <span class="number">800</span>x600x8 -fbdir /var/run

XVFB_PIDFILE=/var/run/xvfb.pid

<span class="function"><span class="title">start_soffice</span></span>() {

<span class="built_in">echo</span> -n <span class="variable">$Starting</span> OpenOffice

<span class="variable">$SOFFICE_PATH</span>/soffice.bin <span class="variable">$SOFFICE_ARGS1</span> <span class="variable">$SOFFICE_ARGS2</span> <span class="number">21</span> 

[ $? <span class="operator">-eq</span> <span class="number">0</span> ]  <span class="built_in">echo</span>_success || <span class="built_in">echo</span>_failure

pidof soffice.bin  <span class="variable">$SOFFICE_PIDFILE</span>

<span class="built_in">echo</span>

}

<span class="function"><span class="title">start_xvfb</span></span>() {

<span class="built_in">echo</span> -n <span class="variable">$Starting</span> Xvfb

<span class="variable">$XVFB</span> <span class="variable">$XVFB_ARGS</span> /dev/null <span class="number">21</span> 

[ $? <span class="operator">-eq</span> <span class="number">0</span> ]  success || failure

pidofproc Xvfb  <span class="variable">$XVFB_PIDFILE</span>

<span class="built_in">echo</span>

}

<span class="function"><span class="title">start</span></span>() {

start_xvfb

sleep <span class="number">3</span>

start_soffice

}

<span class="function"><span class="title">stop</span></span>() {

<span class="built_in">echo</span> -n <span class="variable">$Stopping</span> OpenOffice

killproc soffice.bin

<span class="built_in">echo</span>

<span class="built_in">echo</span> -n <span class="variable">$Stopping</span> Xvfb

killproc Xvfb

<span class="built_in">echo</span>

}

<span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span>

start)

start

;;

stop)

stop

;;

restart)

stop

start

;;

*)

<span class="built_in">echo</span> <span class="variable">$Usage</span>: <span class="variable">$0</span> {start|stop|restart}

<span class="keyword">esac</span>
</code></pre><h1 id="以下centos6_64位可用">以下centos6 64位可用</h1><h1 id="!/bin/bash-1">!/bin/bash</h1><pre><code><span class="preprocessor"># chkconfig: 345 20 80</span>

<span class="preprocessor"># description: init.d script for headless openoffice.org (2.3+ for RHEL5 64bit)</span>

<span class="preprocessor">#</span>

<span class="preprocessor"># processname: soffice</span>

<span class="preprocessor">#</span>

<span class="preprocessor"># source function library</span>

. /etc/rc.d/init.d/functions
</code></pre><p>RETVAL=0</p>
<pre><code>SOFFICE_PATH=&amp;<span class="string">#39</span>;/usr/lib64/openoffice.org3/<span class="keyword">program</span>&amp;<span class="string">#39</span>;

SOFFICE_ARGS=&amp;<span class="string">#39</span>;-accept=socket,host=localhost,port=<span class="number">8100</span>;urp;StarOffice.ServiceManager -headless -nofirststartwizard -nologo&amp;<span class="string">#39</span>;

SOFFICE_PIDFILE=/<span class="keyword">var</span>/run/soffice.bin.pid
</code></pre><p>start_soffice() {</p>
<pre><code> <span class="built_in">echo</span> -n <span class="variable">$Starting</span> OpenOffice.org

 <span class="variable">$SOFFICE_PATH</span>/soffice.bin <span class="variable">$SOFFICE_ARGS</span> /dev/null <span class="number">21</span> 

 [ $? <span class="operator">-eq</span> <span class="number">0</span> ]  <span class="built_in">echo</span>_success || <span class="built_in">echo</span>_failure

 pidof soffice.bin  <span class="variable">$SOFFICE_PIDFILE</span>

 <span class="built_in">echo</span>

}

<span class="function"><span class="title">start</span></span>() {

 start_soffice

}

<span class="function"><span class="title">stop</span></span>() {

 <span class="built_in">echo</span> -n <span class="variable">$Stopping</span> OpenOffice

 killproc soffice

 <span class="built_in">echo</span>

}

<span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span>

 start)

 start

 ;;

 stop)

 stop

 ;;

 restart)

 stop

 start

 ;;

 *)

 <span class="built_in">echo</span> <span class="variable">$Usage</span>: <span class="variable">$0</span> {start|stop|restart}

<span class="keyword">esac</span>
</code></pre><p>chmod +x /etc/init.d/soffice</p>
<pre><code>chkconfig <span class="comment">--add soffice</span>

chkconfig <span class="comment">--list soffice</span>
</code></pre><p>/etc/init.d/soffice start</p>
<p>使用如下命令查看8100端口是否被占用：</p>
<pre><code>netstat -ano <span class="string">| grep 8100</span>

使用如下命令查看进程是否存在：
</code></pre><p>ps aux|grep soffice</p>
<p>然后将一个pdf格式的文档传到一个文件下，执行以下命令，看是否能生成对应的pdf文件：</p>
<p>pdf2swf -o （swf路径例如 /opt/a/a.swf） -T -z -t -f (pdf路径，例如/opt/a/a.pdf) -s languagedir=/usr/share/xpdf/xpdf-chinese-simplified -s flashversion=9</p>
<p>如果生成了，那么就说明安装成功了。</p>
<p>5、最后使用如下转换命令测试：</p>
<pre><code>pdf2swf <span class="operator">-s</span> languagedir=/usr/share/xpdf/xpdf-chinese-simplified -T <span class="number">9</span> <span class="operator">-s</span> poly2bitmap <span class="operator">-s</span> zoom=<span class="number">150</span> <span class="operator">-s</span> flashversion=<span class="number">9</span> /opt/<span class="number">123</span>.pdf -o /opt/<span class="built_in">test</span>/%.swf
</code></pre><p>附：</p>
<pre><code>编译的时候需要一些开发库 libgif-dev jpeglib-dev freetype-dev 等。编译安装swftools：

yum install gcc* automake zlib-devel libjpeg-devel giflib-devel freetype-devel

tar xfz swftools-<span class="number">0</span>.<span class="number">9.1</span>.tar.gz -<span class="constant">C </span>/usr/local/src/

sh ./configure

make  make install

设置swftools环境变量，使pdf2swf成为一个可执行命令

vim /etc/profile

export <span class="constant">PATH=</span><span class="variable">$PATH</span><span class="symbol">:/usr/local/swftools/bin/</span>
</code></pre><p>需要 x-server ，如果没有x，在转换的时候会报这样的错误：</p>
<pre><code>/usr/lib/openoffice.org/<span class="keyword">program</span>/soffice.bin X11 <span class="keyword">error</span>: Can&amp;#39;t <span class="keyword">open</span> <span class="keyword">display</span>:

<span class="keyword">Set</span> <span class="keyword">DISPLAY</span> environment variable, <span class="keyword">use</span> -<span class="keyword">display</span> option

or check permissions of your X-Server

x桌面导入环境变量 export <span class="keyword">DISPLAY</span>=localhost:1 ，这样就能成功转换。但是，作为服务器是不开 x 的，解决方法是虚拟一个x 桌面 ，

Xvfb :1 -screen 0 800x600x24
</code></pre><p>openoffice的服务启动</p>
<pre><code>soffice -headless <span class="variable">-accept=</span>socket,<span class="variable">host=</span><span class="number">127.0</span>.<span class="number">0.1</span>,<span class="variable">port=</span><span class="number">8100</span>;urp; -nofirstartwizard

从windows上传txt格式的文档，openoffice都报错说不能识别。把windows的换行符替换为 \n 。

Linux环境配置文件如下：

<span class="variable">openOfficeStartCommand =</span> /usr/lib/openoffice.org3/program/soffice.bin/ -headless\ <span class="variable">-accept=</span>socket,<span class="variable">host=</span><span class="number">127.0</span>.<span class="number">0.1</span>,<span class="variable">port=</span><span class="number">8100</span>;urp;\ -nofirststartwizard

<span class="variable">pdfToSwfCommand =</span> /usr/local/swftools/bin/pdf2swf

<span class="variable">bitMapc=</span>-T <span class="number">9</span> -s poly2bitmap -s <span class="variable">zoom=</span><span class="number">150</span>

<span class="variable">zoom=</span><span class="number">150</span>

<span class="variable">langc=</span>-s <span class="variable">languagedir=</span>/usr/local/xpdf-chinese-simplified

<span class="variable">port =</span> <span class="number">8100</span>
</code></pre><p>排错：soffice -headless -accept=socket,host=127.0.0.1,port=8100;urp; -nofirstartwizard</p>
<pre><code><span class="attribute">FreeFontPath</span>: <span class="string">FPE unix/:7100 refcount is 2, should be 1; fixing.</span>

<span class="delphi">The XKEYBOARD keymap compiler (xkbcomp) reports:

 Error: Can&amp;<span class="string">#39</span>;t find <span class="keyword">file</span> unknown <span class="keyword">for</span> geometry include

 Exiting

 Abandoning geometry <span class="keyword">file</span> <span class="keyword">default</span>

Errors from xkbcomp are <span class="keyword">not</span> fatal <span class="keyword">to</span> the X server</span>
</code></pre><p>解决方法，安装字体：yum install xorg-x11-fonts*</p>
]]></content>
    <summary type="html">
    <![CDATA[<p> 在线文档协同浏览，在WEB应用中实现百度文库那样可以在线浏览文档的功能。用户上传一个office文档，如doc、ppt、pdf之类的，然后在浏览器里显示出来。doc,ppt,xls,txt需转换为pdf ，分割pdf ，pdf转换为swf 。</p>
<p>安装openo]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title><![CDATA[禁止WordPress半角符号自动变成全角符号]]></title>
    <link href="http://blog.veryi.com/2013/07/24/w/e7-a6-81-e6-ad-a2wordpress-e5-8d-8a-e8-a7-92-e7-ac-a6-e5-8f-b7-e8-87-aa-e5-8a-a8-e5-8f-98-e6-88-90-e5-85-a8-e8-a7-92-e7-ac-a6-e5-8f-b7/"/>
    <id>http://blog.veryi.com/2013/07/24/w/e7-a6-81-e6-ad-a2wordpress-e5-8d-8a-e8-a7-92-e7-ac-a6-e5-8f-b7-e8-87-aa-e5-8a-a8-e5-8f-98-e6-88-90-e5-85-a8-e8-a7-92-e7-ac-a6-e5-8f-b7/</id>
    <published>2013-07-24T08:09:17.000Z</published>
    <updated>2015-04-08T01:09:29.075Z</updated>
    <content type="html"><![CDATA[<p> WordPress默认情况下会将代码的半角符号自动转成全角符号，防止外部源代码在网页上执行。例如会把—装换为－。在没有使用代码高亮插件时，直接粘贴在网页上的代码，就不能直接使用，必须将符号改为半角才行。对于经常需要在文章中使用代码的朋友来说，可以禁用WordPress的默认转换功能。</p>
<p>方法一</p>
<pre><code>修改当前主题的functions.php文件，例如：wp-content/themes/amazinggrace/functions.php，在?php 和 ? 之间加入下面的代码即可：

remove_filter(&amp;<span class="string">#39</span>;the_content&amp;<span class="string">#39</span>;, &amp;<span class="string">#39</span>;wptexturize&amp;<span class="string">#39</span>;);

这种方法的好处就是直接修改的是主题包中的文件，因此我们在不更换主题的情况下，wordpress可以自由升级；同样的，其缺点就是，当我们更换了主题之后，就要重新进行添加代码。
</code></pre><p>方法二</p>
<pre><code><span class="number">1</span>、打开并编辑 wp-includes/formatting.php 文件，找到以下代码（大概第<span class="number">124</span>行）：

<span class="variable">$curl</span> = str_replace(<span class="variable">$static_characters</span>, <span class="variable">$static_replacements</span>, <span class="variable">$curl</span>);
</code></pre><p>$curl = preg_replace($dynamic_characters, $dynamic_replacements, $curl);</p>
<p>2、将$curl 开头的两句代码注释掉，修改后，效果如下：</p>
<pre><code>// <span class="variable">$curl</span> = str_replace(<span class="variable">$static_characters</span>, <span class="variable">$static_replacements</span>, <span class="variable">$curl</span>);
</code></pre><p>// $curl = preg_replace($dynamic_characters, $dynamic_replacements, $curl);</p>
<pre><code>这样，别人复制下来的函数代码标点就不会是全角，无法使用了！

方法二是直接修改WordPress程序文件的，只要更新WordPress，就得重新修改，所以推荐使用方法一。
</code></pre>]]></content>
    <summary type="html">
    <![CDATA[<p> WordPress默认情况下会将代码的半角符号自动转成全角符号，防止外部源代码在网页上执行。例如会把—装换为－。在没有使用代码高亮插件时，直接粘贴在网页上的代码，就不能直接使用，必须将符号改为半角才行。对于经常需要在文章中使用代码的朋友来说，可以禁用WordPress的默]]>
    </summary>
    
      <category term="计算机" scheme="http://blog.veryi.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
  </entry>
  
</feed>