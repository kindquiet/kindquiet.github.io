<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content="kindquiet"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="alternative" href="/atom.xml" title="kindquiet素食勤俭敬老孝慈" type="application/atom+xml"><link rel="icon" href="/favicon.ico"><title>kindquiet素食勤俭敬老孝慈</title><meta name="keywords" content="centos,素食"><meta name="description" content="kindquiet素食勤俭敬老孝慈"><script>var _hmt = _hmt || [];(function() {  var hm = document.createElement("script");  hm.src = "//hm.baidu.com/hm.js?33ec0e4a308e2f174e68f15c700d8b5d";  var s = document.getElementsByTagName("script")[0];   s.parentNode.insertBefore(hm, s);})();</script><link rel="stylesheet" href="/css/style.css" type="text/css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--></head><body><header class="site-head"><div class="inner"><h1 class="site-title u-fl"><a href="/">kindquiet素食勤俭敬老孝慈</a></h1><nav class="site-nav u-fr"><ul class="site-nav__list"><li class="site-nav__item"><a href="/" class="site-nav__link">Home</a></li><li class="site-nav__item"><a href="/archives" class="site-nav__link">Archives</a></li></ul></nav></div></header><section class="site-content"><main class="site-main"><article class="post"><header class="post__head"><time datetime="2011-08-05T03:20:19.000Z" class="post__time">八月 5, 2011</time><h1 class="post__title"><a href="/2011/08/05/w/e4-b8-80-e5-87-bd-e9-81-8d-e5-a4-8d/">一函遍复</a></h1></header><div class="post__main"><p>印光大师著</p>
<p>净土法门，三根普被，利钝全收；乃如来普一切上圣下凡，令其于此生中，即了生死之大法也。于此不信不修，可不哀哉？此法门以信，愿，行，三法为宗。信，则信我此世界是苦，信极乐世界是乐。信我是业力凡夫，决定不能仗自力断惑证真，了生脱死。信阿弥陀佛，有大誓愿，若有众生，念佛名号，求生佛国，其人临命终时，佛必垂慈接引，令生西方。愿，则愿速出离此苦世界，愿速往生彼乐世界。行，则至诚恳切，常念南无阿弥陀佛，时时刻刻，无令暂忘。朝暮于佛前礼拜持诵，随自身闲忙，立一课程。</p>
<pre><code>此外，则行、住、坐、卧，及做不用心的事，均好念。睡时当默念，不宜出声；宜只念阿弥陀佛四字，以免字多难念。若衣冠不整齐，或洗澡、抽解，或至不洁净处，均须默念。默念功德一样，出声于仪式不合。无论大声念、小声念、金刚念，心中默念，均须心里念得清清楚楚，口里念得清清楚楚，耳中听得清清楚楚。如此，则心不外驰，妄想渐息，佛念渐纯，功德最大。

念佛之人，必须孝养父母、奉事师长、慈心不杀、修十善业，又须父慈、子孝，兄友、弟恭，夫和、妇顺，主仁、仆忠，恪尽己分。不计他对我之尽分与否，我总要尽我之分。能于家庭，及与社会，尽谊尽分，是名善人。善人念佛求生西方，决定临终，即得往生。以其心与佛合，故感佛慈接引也。若虽常念佛，心不依道，或于父母、兄弟，妻室、儿女，朋友、乡党，不能尽分，则心与佛背，便难往生。以自心发生障碍，佛亦无由垂慈接引也。

又须劝父母、兄弟、姊妹，妻室、儿女，乡党、亲友，同皆常念南无阿弥陀佛及南无观世音菩萨，以此事利益甚大，忍令生我之人，及我之眷属，并与亲友，不蒙此益乎？况且现在是一个大患难世道，灾祸之来，无法可设。若能常念佛及观音，决定蒙佛慈庇，逢凶化吉。即无灾难，亦得业消智朗，障尽福隆。况劝人念佛求生西方，即是成就凡夫作佛，功德最大。以此功德回向往生，必满所愿。

凡诵经、持咒，礼拜、忏悔，及救灾、济贫，种种慈善功德，皆须回向往生西方。切不可求来生人天福报。一有此心，便无往生之分。以生死未了，福愈大则业愈大，再一来生，难免堕于地狱、饿鬼、畜生，之三恶道中。若欲再复人身，再遇净土即生了脱之法门，难如登天矣。佛教人念佛求生西方，是为人现生了生死的；若求来生人天福报，即是违背佛教。如将一颗举世无价之宝珠，换取一根糖吃，岂不可惜？愚人念佛，不求生西方，求来生人天福报，与此无异。

念佛之人，不可涉于禅家参究一路；以参究者，均不注重于信愿求生。纵然念佛，只注重看念佛的是谁，以求开悟而已。若生西方，无有不开悟者。若开悟而惑业净尽，则可了生死。若惑业未尽，则不能仗自力了生死。又无有信愿，则不能仗佛力了生死。自力佛力，两皆无靠，欲出轮回，其可得乎？须知法身菩萨，未成佛前，皆须仗佛威力；何况业力凡夫，侈谈自力，不仗佛力。其语虽高超，其行实卑劣。佛力自力之大小，何止天渊之别？愿同人悉体此义。

念佛之人，不可效愚人，做还寿生、寄库等佛事，以还寿生，不出佛经，系后人伪造。寄库，是愿死后做鬼，预先置办做鬼的用度。既有愿做鬼的心，便难往生。如其未作，则勿作。如其已作，当禀明于佛，弟子某，惟求往生，前所作寄库之冥资，通以账济孤魂，方可不为往生之障。凡寿生、血盆、太阳、太阴、眼光、灶王、胎骨、分珠、妙沙等经，皆是妄人伪造，切不可念。愚人不知念大乘经，偏信此种瞎造之伪经。必须要还寿生、破地狱、破血湖，方可安心。有明理人，为说是伪，亦不肯信。须知做佛事，惟念佛功德最大。当以还寿生、破地狱、破血湖之钱，请有正念之僧念佛，则利益大矣。

念佛之人，当吃长素。如或不能，当持六斋，或十斋。由渐减以至永断，方为合理。虽未断荤，宜买现肉，勿在家中杀生。以家中常愿吉祥，若日日杀生，其家便成杀场。杀场，乃怨鬼聚会之处，其不吉祥也大矣。是宜切戒家中杀生也。

念佛之人，当劝父母念佛求生西方。然欲父母临终决定往生西方，非预为眷属说临终助念，及瞎张罗，并哭泣之利害不可。故欲父母临终得眷属助念之益，不受破坏正念之害者，非平时为说念佛之利益，令彼各各常念不可。如是，则不独有益于父母，实有益于现生眷属，后世子孙也。临终助念，无论老少，均当如是。详看饬终津梁，自知。

女人临产，每有苦痛不堪，数日不生，或致殒命者。又有生后血崩，种种危险，及儿子有慢性惊风，种种危险者。若于将产时，至诚恳切出声朗念南无观世音菩萨，不可心中默念，以默念心力小，故感应亦小。又此时用力送子出，若默念，或致闭气受病。若至诚恳切念，决定不有苦痛难产，及产后血崩，并儿子惊风等患。纵难产之极，人己将死，教本产妇，及在旁照应者，同皆出声念观世音。家人虽在别房，亦可为念。决定不须一刻工夫，即得安然而生。外道不明理，死执恭敬一法，不知按事论理，致一班念佛老太婆，视生产为畏途。虽亲女亲媳，亦不敢去看，况敢教彼念观音乎？须知菩萨以救苦为心，临产虽裸露不净，乃出于无奈，非特意放肆者比。不但无有罪过，且令母子种大善根。此义系佛于药师经中所说，非我自出臆见，我不过为之提倡而己。

女人从十二三岁，至四十八九岁，皆有月经。有谓当月经时，不可礼拜持诵，此语不通情理。月经短者，二三日即止，长者六七日方止。修持之人，必须念念无间，何可因此天生之小恙，竟念废弃其修持乎？今谓当月经时，可少礼拜，念佛诵经，均当照常。宜常换洗秽布，若手触秽布，当即洗净；切勿以触秽之手，翻经及焚香也。佛法，法法圆通，外道只执崖理。世人多多只信外道所说，不知佛法正理，故致一切同人，不能同沾法益也。

观世音菩萨，誓愿宏深，寻声救苦。若遇刀兵、水火、饥馑、虫蝗、瘟疫、旱涝、贼匪、怨家，恶兽、毒蛇、恶鬼、妖魅，怨业病、小人陷害等患难者，能发改过迁善、自利利人之心，至诚恳切念观世音，念念无间，决定得蒙慈护，不致有何危险。倘仍存不善之心，虽能称念，不过略种未来善根，不得现时感应。以佛菩萨，皆是成就人之善念，绝不成就人之恶念。若不发心改过迁善，妄欲以念佛菩萨名号，冀己之恶事成就者，决无感应，切勿发此颠倒之心也。念佛最要紧，是敦伦尽分，闲邪存诚，诸恶莫作，众善奉行。存好心，说好话，行好事。力能为者，认真为之。不能为者，亦当发此善心，或劝有力者为之。或见人为，发欢喜心，出赞叹语，亦属心口功德。若自不能为，见他人为，则生妒忌，便成奸恶小人心行，决定折福折寿，不得好结果也，宜痛戒之。切不可做假招子，沽名钓誉。此种心行，实为天地鬼神所共恶。有则改之，无则加勉。

世有女人，不明至理，或不孝公婆、欺侮丈夫、溺爱儿女、虐待婢仆；或属填房，虐待前房儿女。不知孝公婆、敬丈夫、教儿女、惠婢仆、教养恩抚前房儿女，实为世间圣贤之道，亦是佛门敦本之法。具此功德，以修净土，决定名誉日隆，福增寿永；临终蒙佛接引，直登九莲也。须知有因必定有果，己若种孝敬慈爱之因，自得孝敬慈爱之果。为人即是为己，害人甚于害己。固宜尽我之职分，以期佛天共鉴也。

小儿从有知识时，即教以孝、弟、忠、信、礼、义、廉、耻之道，及三世因果、六道轮回之事。令彼知自己之心，与天、地、鬼、神、佛、菩萨之心，息息相通。起一不正念，行一不正事，早被天、地、鬼、神、佛、菩萨，悉知悉见，如对明镜，毕现丑相，无可逃避。庶可有所畏惧，勉为良善也。无论何人，即婢仆小儿，亦不许打骂。教其敬事尊长，卑以自牧。务须敬惜字纸，爱惜五谷、衣服、杂物、护惜虫蚁。禁止零食，免致受病。能如此教，大了决定贤善。若小时任性惯，概不教训，大了不是庸流，便成匪类。此时后悔，了无所益。古语云：教妇初来，教儿婴孩。以其习与性成，故当谨之于始也。天下之治乱，皆基于此，切勿以为老僧迂谈，无关紧要也。

光老矣，精神日衰，无力答复来信。但以邮路大通，致远近误闻虚名，屡屡来信，若一概不复，亦觉有负来意。若一一为复，真是无此精神。以故印此长信，凡有关修持，及立身涉世，事亲教子之道，皆为略说。后有信来，以此见寄。纵有一二特别之事，即在来信略批数字，庶彼此情达，而不至过劳也。若欲大通经教，固当请教高竖法幢之大通家法师。须知大通经教者，未必即生能了生死；欲即生了生死，当注重于信愿念佛，求生西方也。
</code></pre><p>　　岁次壬申（西元1932年）立冬日常惭愧僧古莘释印光书时年七十有二。（续编上册）</p>
<p>南无（音纳莫）阿弥陀佛；金刚念（有声而旁人不闻）；奉事师长（即教我之师及有道德之人），慈心不杀（当吃长素，或吃花素，既未断荤，切勿亲杀），修十善业（即身不行杀生、偷盗、邪淫之事；口不说妄言、绮语、两舌、恶口之话；心不起贪欲、嗔恚、愚痴之念）</p>
<p>白话文：</p>
<pre><code>净土法门，上根中根下根的众生都能够遍及，利根钝根的众生全可以摄收。是如来普为一切上圣下凡，让他们在此生中，就了脱生死的大法。对于这个法门不相信不修持，怎么不让人悲哀呢？这法门，以信、愿、行三法为宗旨。信，就是信我们这个世界是苦的，信极乐世界是乐的。信我是业力凡夫，一定不能倚仗自己的力量，断尽烦恼，证得真常，了脱生死。信阿弥陀佛，有大誓愿。若有众生，念佛的名号，求生佛国，这人临命终时，佛一定会垂慈接引，让他往生西方。愿，就是愿速出离这苦世界，愿速往生那乐世界。行，就是至诚恳切，常念南无（音纳莫）阿弥陀佛，时时刻刻，不让佛号暂时忘记。早晚在佛前礼拜持诵，随着自身的闲忙，立一课程。此外，行走、站立、坐着、卧着，及做不用心的事，都好念。睡时当默念，不宜出声。宜只念阿弥陀佛四个字，以免字多难念。若衣冠不整齐，或洗澡、上厕所，或到了不洁净的地方，都须默念。默念的功德一样，出声对于仪式不合。无论大声念、小声念、金刚念、（有声音，而旁人听不见。）心中默念。都须心里念得清清楚楚，口里念得清清楚楚，耳中听得清清楚楚。如此，就心不外驰，妄想渐息，佛念渐纯，功德最大了。

念佛的人，必须孝养父母，奉事师长，（就是教我的老师，及有道德的人。）慈心不杀，（当吃长素，或吃花素。即使没有断荤，千万不能亲自杀生。）修十善业。（就是身不做杀生、偷盗、邪淫的事。口不说妄语、绮语、两舌、恶口的话。心不起贪欲、嗔恨、愚痴的念头。）又须父慈，子孝，兄友，弟恭，夫和，妇顺，主仁，仆忠，恪尽自己的本分职分。不计较他人对我尽分了没有，我总要尽我的分。能对于家庭，及对社会，尽情谊尽职分，这就称为善人。善人念佛求生西方，一定临终，就获得往生。因为他的心与佛相合，所以就能感应佛慈来接引。若虽然常念佛，心不依佛道，或对于父母、兄弟、妻室、儿女、朋友、同乡，不能尽分，那么心与佛相违背了，便难以往生。因为自心发生了障碍，佛也没有办法垂慈接引了。又须劝父母、兄弟、姊妹、妻室、儿女、同乡、亲友，一同都常念南无阿弥陀佛，及南无观世音菩萨。（每日若念一万声佛号，就念五千声观音圣号，具体念多少照此加减。）因为这件事利益非常大，怎么忍心让生我的人，及我的眷属，与亲友，不蒙受这个利益呢？况且现在是一个大患难的世道。灾祸来了，没有办法可以用。若能常念佛及观音，一定会蒙佛的慈护，逢凶化吉。即使没有灾难，也能够消除业障开发智慧，业障除尽福德兴隆。何况劝人念佛求生西方，就是成就凡夫作佛，功德最大。以此功德回向<span class="attr_selector">[回转并指向]</span>往生，一定会满足自己的愿望。

凡是诵经、持咒、礼拜、忏悔，及救灾、济贫，种种慈善功德，都须回向往生西方。千万不可求来生的人天福报。一有这心思，便没有了往生的分。而生死未能了脱，福报愈大就业障愈大，再一来生，难免堕入地狱、饿鬼、畜生的三恶道中。若想要再恢复人身，再遇见净土此生了脱生死的法门，难如登天了。佛教导人念佛求生西方，是为人此生了脱生死的。若求来生的人天福报，就是违背佛教。如同将一颗举世无价的宝珠，换取一根糖吃，怎么不可惜呢？愚人念佛，不求往生西方，求来生的人天福报，与这没有不同。

念佛的人，不可涉猎于禅家的参究<span class="attr_selector">[参话头]</span>一路。因为参究的人，都不注重于信愿求往生。纵然念佛，只注重看念佛的是谁，以求开悟而已。若往生了西方，没有不开悟的人。若开悟了而且惑业完全净尽了，就可以了脱生死。若惑业没有净尽，就不能倚仗自力了脱生死。又没有信愿，就不能仰仗佛力了脱生死。自力佛力，两者都没有依靠，想要出离生死轮回，能做到吗？须知法身菩萨，没有成佛前，都须仰仗佛的威力。何况业力凡夫，过分地谈论自力，不仰仗佛力。这语言虽然高超，这行为实在是卑劣。佛力与自力的大小，何止天渊之别，愿同人都能体察这个道理。

念佛的人，不可效仿愚人，做还寿生、寄库等佛事。因为还寿生，不是出自佛经，是后人伪造的。寄库，是愿死后做鬼，预先置办做鬼的用度。既然有愿意做鬼的心，便难以往生。如没有作，就不要作。如已经作了，就应当禀明于佛，弟子某某，只求往生，以前所作寄库的冥资<span class="attr_selector">[阴间用的资财]</span>，全用来赈济孤魂，这样才可不成为往生的障碍。凡是寿生、血盆、太阳、太阴、眼光、灶王、胎骨、分珠、妙沙等经，都是虚妄的人伪造的，千万不可念。愚人不知念大乘经，（就是阿弥陀经、无量寿经、观无量寿佛经、心经、金刚经、药师经、法华经、楞严经、华严经、普贤行愿品等经）偏信这种瞎造的伪经。必须要还寿生、破地狱、破血湖，方可安心。有明理的人，对他说这是伪造的，也不肯信。须知做佛事，只有念佛功德最大。应当以还寿生、破地狱、破血湖的钱，请有正念的僧人念佛，那么利益就大了。

念佛的人，应当吃长素。如果有的人不能吃，应当奉持六斋，或十斋。（初八、十四、十五、二十三、二十九、三十，为六斋。加上初一、十八、二十四、二十八，为十斋。遇小月，就向前进一日持斋。又正月、五月、九月，为三斋月。宜奉持长素，作众功德。）由渐减荤食以至于永断，方为合理。虽然没有断荤，宜买现成的肉，不能在家中杀生。因为家中常愿吉祥，若日日杀生，这家便成了杀场。杀场，是怨鬼聚会的地方，这不吉祥，太大了。所以应千万戒除在家中杀生啊。

念佛的人，应当劝父母念佛求生西方。然而想要父母临终一定往生西方，非预先为眷属说明临终助念，及瞎张罗，和哭泣的利害不可。所以想要父母临终得到眷属助念的利益，不遭受破坏正念的危害，非平时为他们说念佛的利益，让他们各个都常念不可。这么做，不只是有益于父母，实在是有益于现生的眷属、后世的子孙啊。临终助念，无论老少，都应当如此。详细看《饬终津梁》，自然就知道了。（上海佛学书局、苏州报国寺，都有出售。)

女人临产，常常有苦痛不堪、数日不生，或导致丧命的。又有生育后血崩，种种危险，及儿女有慢急性惊风，种种危险。若在将产时，至诚恳切地出声响亮地念南无观世音菩萨，不可心中默念，因为默念的心力小，所以感应也小。又此时用力送子出，若默念，或导致闭气受病。若至诚恳切地念，一定不会有苦痛难产,及产后血崩，和儿女惊风等祸患。纵然难产到了极点，人已将要死了，教这产妇，及在旁照应的人，一同都出声念观世音菩萨名号。家人虽然在别的房间，也可为她念。一定不需一刻钟的工夫，就能安然而生。外道不明道理，死死执著恭敬一法，不懂得按事论理，导致了一班念佛的老太婆，视生孩子为畏途，即使亲女儿亲媳妇，也不敢去看，何况敢教她们念观音呢？须知菩萨以救苦为心，临产虽然裸露不干净，却出于无奈，不是故意放肆者一类。不但没有罪过，而且让母子种下了大善根。这道理是佛在《药师经》中说的，不是我自己想出来的见解。我不过为之提倡而已。（《药师经》，说了药师佛的十二大誓愿功德，所以让人念药师佛。而观音菩萨名号，人人都知道，固然不必念药师佛，而可念观音了。）

女人从十二三岁，到四十八九岁，都有月经。有人说当月经时，不可礼拜持诵，这话不通情理。月经短的，二三日就止了，长的六七日方止。修持的人，必须念念没有间断，怎么可以因为这天生的小恙，竟让她废弃了修持呢？现在要说当月经时，可少礼拜，（宜少礼拜，不是绝不作礼拜。）念佛诵经，都应当照常。宜常常换洗秽布。若手触及了秽布，当立即清洗。千万不能用触及了污秽的手，翻经书，及焚香。佛法，法法圆融，外道只会执著呆板的道理。世人多多只信外道说的，不懂佛法的正理，所以导致了一切同人，不能共同分享佛法的实益了。

观世音菩萨，誓愿宏深，寻声救苦。若遭遇了刀兵、水火、饥荒、虫蝗、瘟疫、旱涝、贼匪、怨家、恶兽、毒蛇、恶鬼、妖魅、怨业病、小人陷害等患难的人。能发起改过迁善、自利利人的心，至诚恳切地念观世音菩萨名号，念念没有间断，一定能蒙受慈护，不致于有什么危险。倘若仍然存有不善的心，虽能称念，不过略种未来的善根，不会得到现时的感应。因为佛菩萨，都是成就人的善念，绝不成就人的恶念。若不发心改过迁善，妄想以念佛菩萨名号，希望自己的恶事成就，一定没有感应，千万不能有这种颠倒的心思。念佛最要紧的，是守持伦常<span class="attr_selector">[父慈子孝、兄友弟恭、夫义妇顺、朋友有信、君仁臣忠的五伦关系]</span>，尽到本分职分，防止邪念，保持真诚，诸恶莫作，众善奉行。存好心，说好话，做好事。有能力做的，就认真去做。没能力做的，也当发这个善心，或劝有能力的人去做。或见人做了，发欢喜心，说赞叹语，也属于心口功德。若自己不能做，见他人做了，就生妒忌，便成了奸恶小人的心行，一定折福折寿，不得好结果，宜痛戒之。千万不可做假招牌，沽名钓誉。这种心行，实在是被天地鬼神共同厌恶的。有这个错误就改正，如果没有就勉励自己不犯这个错误。

世上有女人，不明白正确的道理，或不孝公婆、欺侮丈夫、溺爱儿女、虐待仆人。或属填房<span class="attr_selector">[原配妻子死后续娶的妻子]</span>，虐待前房<span class="attr_selector">[前妻]</span>的儿女。不知孝公婆、敬丈夫、教儿女、仁惠仆人、教养恩抚前房的儿女，实在是世间的圣贤之道，也是佛门敦行根本的方法。有这功德，进而修持净土，一定名誉日隆，福增寿永，临终蒙佛接引，直登九品莲花了。须知有因必定有果，自己若种了孝敬慈爱的因，自然能得到孝敬慈爱的果。为人就是为自己，害人胜过害自己。固然应尽我的职分，以期望佛天共同来审察我的心行。

小孩子从懂事的时候，就告诉他孝、悌、忠、信、礼、义、廉、耻的道理，及三世因果、六道轮回的事实。让他知道自己的心，与天、地、鬼、神、佛、菩萨的心，息息相通。起了一个不正的念头，做了一件不正的事情，早被天、地、鬼、神、佛、菩萨都知道都看见了，如面对明镜，毕现丑相，无可逃避。这样就可有所畏惧，努力成为良善了。无论其他什么人，即使童仆，也不许打骂。教他恭敬地侍奉尊长，养成谦卑的习惯。一定要尊重爱惜有字的纸张，爱惜五谷、衣服、各种物品，保护爱惜昆虫蚂蚁。禁止零食，以免导致受病。能这样教育，长大了一定贤善。若小时候任性惯了，一概不教训，大了不是平庸之辈，便成了土匪败类。这时后悔，一点益处也没有了。古语说：教育媳妇要在刚娶进门的时候，教育子女要在婴孩时期。因为他长期习惯于怎样，就会形成怎样的性格，所以应当在开始的时候就谨慎地教育。天下的治乱，都是以此为基础的，千万不要以为这是老僧的迂腐之谈，是无关紧要的。

我老了，精神日渐衰弱，无力答复来信。只是因为邮路大通，导致了远近的信众误闻虚名，屡屡来信。若一概不答复，也觉得有负来信的诚意。若一一作答复，真是没有这个精神。所以印了这封长信，凡是有关修持，以及立身涉世、侍奉父母教育子女之道，都作了略说。以后有信来，我就把这封信回寄给他。纵然有一二特别的事，就在这信上略写些文字，这样彼此的情意有了沟通，而不至于过分劳累了。若想要大通经教，固然应当请教高竖法幢的大通家法师。须知大通经教的人，未必此生就能了脱生死。想要在此生了脱生死，当注重于信愿念佛求生西方啊。
</code></pre></div><footer class="post__foot u-cf"><a href="/2011/08/05/w/e4-b8-80-e5-87-bd-e9-81-8d-e5-a4-8d/#comments" class="post__foot-link u-fr">评论</a></footer></article><article class="post"><header class="post__head"><time datetime="2011-08-05T03:15:58.000Z" class="post__time">八月 5, 2011</time><h1 class="post__title"><a href="/2011/08/05/w/e5-8d-b0-e5-85-89-e5-a4-a7-e5-b8-88-e6-96-87-e9-9b-86-ef-bc-8d-e5-87-80-e5-9c-9f-e6-b3-95-e8-a6-81-ef-bc-8d-e4-ba-94-e5-ae-97-e7-95-a5-e8-ae-ba-e7-af-87/">印光大师文集－净土法要－五宗略论篇</a></h1></header><div class="post__main"><p>　　佛教大纲，不外五宗。五宗者，即律、教、禅、密、净也。律为佛法根本，严持净戒，以期三业清净，一性圆明，五蕴皆空，诸苦皆度耳。教乃依教修观，离指见月，彻悟当人本具佛性，见性成佛耳。然此但指其见自性天真之佛为成佛，非即成证菩提道之佛也。密以三密加持，转识成智，名为即身成佛。此亦但取即身了生死为成佛，非成福慧圆满之佛也。此三宗，均可摄之于禅，以其气分相同也。以故佛法修持之要，不过禅、净二门。禅则专仗自力，非宿根成熟者，不能得其实益。净则兼仗佛力，凡具真信愿行者，皆可带业往生。其间难易，相去天渊。</p>
<pre><code>　　故宋初永明寿禅师，以古佛身，示生世间，彻悟一心，圆修万行，日行一百八件佛事，夜往别峰，行道念佛。深恐后世学者，不明宗要，特作一《四料简偈》，俾知所趣。其偈曰：有禅有净土，犹如戴角虎，现世为人师，来生作佛祖。无禅有净土，万修万人去，若得见弥陀，何愁不开悟。有禅无净土，十人九蹉路，阴境若现前，瞥尔随他去。无禅无净土，铁床并铜柱，万劫与千生，没个人依怙。此八十字，乃如来一代时教之纲要，学者即生了脱之玄谟。
</code></pre></div><footer class="post__foot u-cf"><a href="/2011/08/05/w/e5-8d-b0-e5-85-89-e5-a4-a7-e5-b8-88-e6-96-87-e9-9b-86-ef-bc-8d-e5-87-80-e5-9c-9f-e6-b3-95-e8-a6-81-ef-bc-8d-e4-ba-94-e5-ae-97-e7-95-a5-e8-ae-ba-e7-af-87/#comments" class="post__foot-link u-fr">评论</a></footer></article><article class="post"><header class="post__head"><time datetime="2011-07-26T09:44:47.000Z" class="post__time">七月 26, 2011</time><h1 class="post__title"><a href="/2011/07/26/w/e6-9f-a5-e7-9c-8blinux-e5-8f-91-e8-a1-8c-e7-89-88-e4-bf-a1-e6-81-af-lsb-release/">查看Linux发行版信息-lsb_release</a></h1></header><div class="post__main"><p>LSB是Linux Standard Base的缩写，lsb_release命令用来显示LSB和特定版本的相关信息，centos可通过</p>
<pre><code>yum -y install redhat-lsb

命令安装。如果使用该命令时不带参数，则默认加上-v参数。

查看Linux发行版信息:

lsb_release -<span class="tag">a</span>

查询rpm安装包名称:

yum whatprovides */lsb_release
</code></pre></div><footer class="post__foot u-cf"><a href="/2011/07/26/w/e6-9f-a5-e7-9c-8blinux-e5-8f-91-e8-a1-8c-e7-89-88-e4-bf-a1-e6-81-af-lsb-release/#comments" class="post__foot-link u-fr">评论</a></footer></article><article class="post"><header class="post__head"><time datetime="2011-07-13T02:41:47.000Z" class="post__time">七月 13, 2011</time><h1 class="post__title"><a href="/2011/07/13/w/e7-b3-bb-e7-bb-9f-e6-97-a5-e5-bf-97syslog-e4-b8-8d-e8-ae-b0-e5-bd-95snmpd-e6-97-a5-e5-bf-97/">系统日志syslog不记录snmpd日志</a></h1></header><div class="post__main"><p>系统为centos linux 5.6。启动snmpd做流量统计，系统日志充斥大量snmpd日志</p>
<pre><code>Jul <span class="number">10</span> <span class="number">11</span>:<span class="number">03</span>:<span class="number">59</span> lb snmpd[<span class="number">1821</span>]: Connection from UDP: [<span class="number">127.0</span>.<span class="number">0.1</span>]:<span class="number">34179</span>

Jul <span class="number">10</span> <span class="number">11</span>:<span class="number">03</span>:<span class="number">59</span> lb snmpd[<span class="number">1821</span>]: Received SNMP <span class="function"><span class="title">packet</span><span class="params">(s)</span></span> from UDP: [<span class="number">127.0</span>.<span class="number">0.1</span>]:<span class="number">34179</span>

修改：

vim /etc/sysconfig/snmpd<span class="class">.options</span>

#加入如下参数

OPTIONS=-LS3d -Lf /dev/null -<span class="tag">p</span> /var/run/snmpd<span class="class">.pid</span> -<span class="tag">a</span>

chmod +x /etc/sysconfig/snmpd<span class="class">.options</span>

重启：

/etc/init.d/snmpd restart
</code></pre></div><footer class="post__foot u-cf"><a href="/2011/07/13/w/e7-b3-bb-e7-bb-9f-e6-97-a5-e5-bf-97syslog-e4-b8-8d-e8-ae-b0-e5-bd-95snmpd-e6-97-a5-e5-bf-97/#comments" class="post__foot-link u-fr">评论</a></footer></article><article class="post"><header class="post__head"><time datetime="2011-07-11T02:04:24.000Z" class="post__time">七月 11, 2011</time><h1 class="post__title"><a href="/2011/07/11/w/awstats-e5-88-86-e6-9e-90-e7-bb-9f-e8-ae-a1squid-e6-97-a5-e5-bf-97/">awstats分析统计squid日志</a></h1></header><div class="post__main"><p>关键：squid自定义日志格式中combined %a和之间只可有一个空格分隔，如果多于一个，squid日志中每行行首会有前置空格，分析时会报错： Found 6 corrupted records。</p>
<p>以下测试在centos linux中通过。</p>
<pre><code>squid配置：

#logformat combined <span class="variable">%a</span> <span class="variable">%ui</span> <span class="variable">%un</span> [<span class="variable">%tl</span>] <span class="variable">%rm</span> <span class="variable">%ru</span> HTTP/<span class="variable">%rv</span> <span class="variable">%Hs</span> <span class="variable">%st</span> <span class="variable">%{Referer}</span>h %{User-Agent}h <span class="variable">%Ss</span>:<span class="variable">%Sh</span>

logformat combined <span class="variable">%a</span> <span class="variable">%ui</span> <span class="variable">%un</span> [<span class="variable">%tl</span>] <span class="variable">%rm</span> <span class="variable">%ru</span> HTTP/<span class="variable">%rv</span> <span class="variable">%Hs</span> <span class="variable">%st</span> <span class="variable">%{Referer}</span>h %{User-Agent}h <span class="variable">%Ss</span>:<span class="variable">%Sh</span> <span class="variable">%{host}</span>h

access_log /var/squid/logs/access.<span class="keyword">log</span> combined

logfile_rotate <span class="number">10</span>
</code></pre><p>日志类似：10.168.6.166 - - [11/Jul/2011:10:16:42 +0800] POST <a href="http://veryi.com/getconf.php" target="_blank" rel="external">http://veryi.com/getconf.php</a> HTTP/1.1 200 960 - Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1; .NET CLR 2.0.50727) TCP_MISS:DIRECT veryi.com</p>
<pre><code>或者配置为：
</code></pre><p>emulate_httpd_log on</p>
<p>日志类似：10.168.6.54 - - [11/Jul/2011:09:21:02 +0800] GET <a href="http://veryi.com/20110705/10/aedf8255-14da-48c5-9338-296caceaf645.jpg" target="_blank" rel="external">http://veryi.com/20110705/10/aedf8255-14da-48c5-9338-296caceaf645.jpg</a> HTTP/1.1 200 22328 TCP_MISS:DIRECT</p>
<pre><code>awstats配置：

LogFormat=<span class="number">4</span>

#LogFormat = <span class="variable">%host</span> <span class="variable">%other</span> <span class="variable">%logname</span> <span class="variable">%time1</span> <span class="variable">%methodurl</span> <span class="variable">%code</span> <span class="variable">%bytesd</span> <span class="variable">%refererquot</span> <span class="variable">%uaquot</span> <span class="variable">%other</span> <span class="variable">%virtualname</span>
</code></pre><p>使用预定义格式即可，自定义报corrupted records错。</p>
<pre><code>squid日志分隔脚本：squid_log.sh

export PATH=/bin:/usr/bin

bakdir=`date +%Y`

baklog=access.log-`date +%Y%m%d%H`

/usr/local/squid/sbin/squid -k rotate

cd /<span class="keyword">var</span>/squid/logs

[ -d `date +%Y` ] || mkdir `date +%Y`

mv access.log.<span class="number">9</span> $bakdir

cd $bakdir

mv access.log.<span class="number">9</span> access.log-`date +%Y%m%d%H`

/usr/bin/bzip2 -<span class="number">1</span> $baklog

find . -name &amp;<span class="string">#39</span>;*log*&amp;<span class="string">#39</span>; -mtime +<span class="number">90</span> -<span class="keyword">type</span> f -exec rm -f <span class="comment">{}</span> \;

awstats自定义字段说明：

# %host Client hostname <span class="keyword">or</span> IP address (<span class="keyword">or</span> Sender host <span class="keyword">for</span> mail log)

# %host_r Receiver hostname <span class="keyword">or</span> IP address (<span class="keyword">for</span> mail log)

# %lognamequot Authenticated login/user <span class="keyword">with</span> format: john

# %logname Authenticated login/user <span class="keyword">with</span> format: john

# %time1 Date <span class="keyword">and</span> time <span class="keyword">with</span> format: [dd/mon/yyyy:hh:mm:ss +<span class="number">0000</span>] <span class="keyword">or</span> [dd/mon/yyyy:hh:mm:ss]

# %time2 Date <span class="keyword">and</span> time <span class="keyword">with</span> format: yyyy-mm-dd hh:mm:ss

# %time3 Date <span class="keyword">and</span> time <span class="keyword">with</span> format: Mon dd hh:mm:ss <span class="keyword">or</span> Mon dd hh:mm:ss yyyy

# %time4 Date <span class="keyword">and</span> time <span class="keyword">with</span> unix timestamp format: dddddddddd

# %methodurl <span class="function"><span class="keyword">Method</span> <span class="title">and</span> <span class="title">URL</span> <span class="title">with</span> <span class="title">format</span>:</span> GET /<span class="keyword">index</span>.html HTTP/x.x

# %methodurlnoprot <span class="function"><span class="keyword">Method</span> <span class="title">and</span> <span class="title">URL</span> <span class="title">with</span> <span class="title">format</span>:</span> GET /<span class="keyword">index</span>.html

# %<span class="function"><span class="keyword">method</span> <span class="title">Method</span> <span class="title">with</span> <span class="title">format</span>:</span> GET

# %url URL only <span class="keyword">with</span> format: /<span class="keyword">index</span>.html

# %query Query string (used <span class="keyword">by</span> URLWithQuery option)

# %code Return code status (<span class="keyword">with</span> format <span class="keyword">for</span> web log: <span class="number">999</span>)

# %bytesd Size <span class="keyword">of</span> document <span class="keyword">in</span> bytes

# %refererquot Referer page <span class="keyword">with</span> format: http:<span class="comment">//from.com/from.htm</span>

# %referer Referer page <span class="keyword">with</span> format: http:<span class="comment">//from.com/from.htm</span>

# %uabracket User agent <span class="keyword">with</span> format: [Mozilla/<span class="number">4.0</span> (compatible, ...)]

# %uaquot User agent <span class="keyword">with</span> format: Mozilla/<span class="number">4.0</span> (compatible, ...)

# %ua User agent <span class="keyword">with</span> format: Mozilla/<span class="number">4.0</span>_(compatible...)

# %gzipin mod_gzip compression input bytes: <span class="keyword">In</span>:XXX

# %gzipout mod_gzip compression output bytes  ratio: <span class="keyword">Out</span>:YYY:ZZpct.

# %gzipratio mod_gzip compression ratio: ZZpct.

# %deflateratio mod_deflate compression ratio <span class="keyword">with</span> format: (ZZ)

# %email EMail sender (<span class="keyword">for</span> mail log)

# %email_r EMail receiver (<span class="keyword">for</span> mail log)

# %virtualname Web sever <span class="keyword">virtual</span> hostname. Use this tag when same log

# contains data <span class="keyword">of</span> several <span class="keyword">virtual</span> web servers. AWStats

# will discard records <span class="keyword">not</span> <span class="keyword">in</span> SiteDomain nor HostAliases

# %cluster <span class="keyword">If</span> log file <span class="keyword">is</span> provided <span class="keyword">from</span> several computers (merged <span class="keyword">by</span>

# logresolvemerge.pl), use this <span class="keyword">to</span> define cluster id field.

# %extraX Another field that you plan <span class="keyword">to</span> use <span class="keyword">for</span> building a

# personalized report <span class="keyword">with</span> ExtraSection feature (See later).

# <span class="keyword">If</span> your log format <span class="keyword">has</span> some fields <span class="keyword">not</span> included <span class="keyword">in</span> this list, use:

# %other Means another <span class="keyword">not</span> used field

# %otherquot Means another <span class="keyword">not</span> used double quoted field
</code></pre><p>squid自定义字段说明：</p>
<pre><code>logformat name <span class="built_in">format</span> specification

 Defines <span class="operator">an</span> access <span class="built_in">log</span> <span class="built_in">format</span>.

 The <span class="built_in">format</span> specification is <span class="operator">a</span> <span class="keyword">string</span> <span class="operator">with</span> embedded % <span class="built_in">format</span> codes

 % <span class="built_in">format</span> codes all follow <span class="operator">the</span> same basic structure where all but

 <span class="operator">the</span> formatcode is optional. Output strings are automatically escaped

 <span class="keyword">as</span> required according <span class="built_in">to</span> their context <span class="operator">and</span> <span class="operator">the</span> output <span class="built_in">format</span>

 modifiers are usually <span class="operator">not</span> needed, but can be specified <span class="keyword">if</span> <span class="operator">an</span> explicit

 output <span class="built_in">format</span> is desired.

  % [|[|&amp;<span class="comment">#39;|#] [-] [[0]width] [{argument}] formatcode</span>

   output <span class="operator">in</span> quoted <span class="keyword">string</span> <span class="built_in">format</span>

  [ output <span class="operator">in</span> squid <span class="keyword">text</span> <span class="built_in">log</span> <span class="built_in">format</span> <span class="keyword">as</span> used <span class="keyword">by</span> log_mime_hdrs

  <span class="comment"># output in URL quoted format</span>

  &amp;<span class="comment">#39; output as-is</span>

  - left aligned

  width field width. If starting <span class="operator">with</span> <span class="number">0</span> <span class="operator">the</span>

   output is <span class="constant">zero</span> padded

  {arg} argument such <span class="keyword">as</span> header name etc

 Format codes:

  % <span class="operator">a</span> literal % <span class="keyword">character</span>

  sn Unique sequence <span class="built_in">number</span> per <span class="built_in">log</span> <span class="built_in">line</span> entry

  err_code The ID <span class="operator">of</span> <span class="operator">an</span> error response served <span class="keyword">by</span> Squid <span class="operator">or</span>

    <span class="operator">a</span> similar internal error identifier.

  err_detail Additional err_code-dependent error information.

 Connection related <span class="built_in">format</span> codes:

  <span class="operator">a</span> Client source IP address

  A Client FQDN

  p Client source port

  eui Client EUI (MAC address, EUI-<span class="number">48</span> <span class="operator">or</span> EUI-<span class="number">64</span> identifier)

  A Server IP address <span class="operator">or</span> peer name

  la Local IP address (http_port)

  lp Local port <span class="built_in">number</span> (http_port)

  la Local IP address <span class="operator">of</span> <span class="operator">the</span> <span class="keyword">last</span> server <span class="operator">or</span> peer connection

  lp Local port <span class="built_in">number</span> <span class="operator">of</span> <span class="operator">the</span> <span class="keyword">last</span> server <span class="operator">or</span> peer connection

 Time related <span class="built_in">format</span> codes:

  ts Seconds since epoch

  tu subsecond <span class="built_in">time</span> (<span class="built_in">milliseconds</span>)

  tl Local <span class="built_in">time</span>. Optional strftime <span class="built_in">format</span> argument

    default %d/%b/%Y:%H:%M:%S %z

  tg GMT <span class="built_in">time</span>. Optional strftime <span class="built_in">format</span> argument

    default %d/%b/%Y:%H:%M:%S %z

  tr Response <span class="built_in">time</span> (<span class="built_in">milliseconds</span>)

  dt Total <span class="built_in">time</span> spent making DNS lookups (<span class="built_in">milliseconds</span>)

 HTTP cache related <span class="built_in">format</span> codes:

  [<span class="keyword">http</span>::]h Original request header. Optional header name argument

    <span class="command"><span class="keyword">on</span> <span class="title">the</span> <span class="title">format</span> <span class="title">header</span>[:[<span class="title">separator</span>]<span class="title">element</span>]</span>

  [<span class="keyword">http</span>::]ha The HTTP request headers <span class="keyword">after</span> adaptation <span class="operator">and</span> redirection. 

    Optional header name argument <span class="keyword">as</span> <span class="keyword">for</span> h

  [<span class="keyword">http</span>::]h Reply header. Optional header name argument

    <span class="keyword">as</span> <span class="keyword">for</span> h

  [<span class="keyword">http</span>::]un User name

  [<span class="keyword">http</span>::]ul User name <span class="built_in">from</span> authentication

  [<span class="keyword">http</span>::]ui User name <span class="built_in">from</span> ident

  [<span class="keyword">http</span>::]us User name <span class="built_in">from</span> SSL

  [<span class="keyword">http</span>::]ue User name <span class="built_in">from</span> external acl helper

  [<span class="keyword">http</span>::]Hs HTTP status code sent <span class="built_in">to</span> <span class="operator">the</span> client

  [<span class="keyword">http</span>::]Hs HTTP status code received <span class="built_in">from</span> <span class="operator">the</span> next hop

  [<span class="keyword">http</span>::]bs Number <span class="operator">of</span> HTTP-equivalent message body <span class="keyword">bytes</span> 

    received <span class="built_in">from</span> <span class="operator">the</span> next hop, excluding chunked

    transfer encoding <span class="operator">and</span> control messages.

    Generated FTP/Gopher listings are treated <span class="keyword">as</span>

    received bodies.

  [<span class="keyword">http</span>::]Ss Squid request status (TCP_MISS etc)

  [<span class="keyword">http</span>::]Sh Squid hierarchy status (DEFAULT_PARENT etc)

  [<span class="keyword">http</span>::]mt MIME content type

  [<span class="keyword">http</span>::]rm Request method (GET/POST etc)

  [<span class="keyword">http</span>::]rm Request method <span class="built_in">from</span> client

  [<span class="keyword">http</span>::]rm Request method sent <span class="built_in">to</span> server <span class="operator">or</span> peer

  [<span class="keyword">http</span>::]ru Request <span class="built_in">URL</span> <span class="built_in">from</span> client (historic, filtered <span class="keyword">for</span> logging)

  [<span class="keyword">http</span>::]ru Request <span class="built_in">URL</span> <span class="built_in">from</span> client

  [<span class="keyword">http</span>::]ru Request <span class="built_in">URL</span> sent <span class="built_in">to</span> server <span class="operator">or</span> peer

  [<span class="keyword">http</span>::]rp Request <span class="built_in">URL</span>-Path excluding hostname

  [<span class="keyword">http</span>::]rp Request <span class="built_in">URL</span>-Path excluding hostname <span class="built_in">from</span> client

  [<span class="keyword">http</span>::]rp Request <span class="built_in">URL</span>-Path excluding hostname sento <span class="built_in">to</span> server <span class="operator">or</span> peer

  [<span class="keyword">http</span>::]rv Request protocol <span class="built_in">version</span>

  [<span class="keyword">http</span>::]rv Request protocol <span class="built_in">version</span> <span class="built_in">from</span> client

  [<span class="keyword">http</span>::]rv Request protocol <span class="built_in">version</span> sent <span class="built_in">to</span> server <span class="operator">or</span> peer

  [<span class="keyword">http</span>::]et Tag returned <span class="keyword">by</span> external acl

  [<span class="keyword">http</span>::]ea Log <span class="keyword">string</span> returned <span class="keyword">by</span> external acl

  [<span class="keyword">http</span>::]st Sent reply size including HTTP headers

  [<span class="keyword">http</span>::]st Received request size including HTTP headers. In <span class="operator">the</span>

    <span class="keyword">case</span> <span class="operator">of</span> chunked requests <span class="operator">the</span> chunked encoding metadata

    are <span class="operator">not</span> included

  [<span class="keyword">http</span>::]sh Received HTTP request headers size

  [<span class="keyword">http</span>::]sh Sent HTTP reply headers size

  [<span class="keyword">http</span>::]st Request+Reply size including HTTP headers

  [<span class="keyword">http</span>::]<span class="variable">sH</span> Reply high <span class="built_in">offset</span> sent

  [<span class="keyword">http</span>::]<span class="variable">sS</span> Upstream object size

  [<span class="keyword">http</span>::]pt Peer response <span class="built_in">time</span> <span class="operator">in</span> <span class="built_in">milliseconds</span>. The timer starts

    when <span class="operator">the</span> <span class="keyword">last</span> request <span class="keyword">byte</span> is sent <span class="built_in">to</span> <span class="operator">the</span> next hop

    <span class="operator">and</span> stops when <span class="operator">the</span> <span class="keyword">last</span> response <span class="keyword">byte</span> is received.

  [<span class="keyword">http</span>::]tt Total server-side <span class="built_in">time</span> <span class="operator">in</span> <span class="built_in">milliseconds</span>. The timer 

    starts <span class="operator">with</span> <span class="operator">the</span> <span class="keyword">first</span> connect request (<span class="operator">or</span> <span class="built_in">write</span> I/O)

    sent <span class="built_in">to</span> <span class="operator">the</span> <span class="keyword">first</span> selected peer. The timer stops

    <span class="operator">with</span> <span class="operator">the</span> <span class="keyword">last</span> I/O <span class="operator">with</span> <span class="operator">the</span> <span class="keyword">last</span> peer.

 If ICAP is enabled, <span class="operator">the</span> following code becomes available (<span class="keyword">as</span>

 well <span class="keyword">as</span> ICAP <span class="built_in">log</span> codes documented <span class="operator">with</span> <span class="operator">the</span> icap_log option):

  icap::tt Total ICAP processing <span class="built_in">time</span> <span class="keyword">for</span> <span class="operator">the</span> HTTP

    transaction. The timer <span class="built_in">ticks</span> when ICAP

    ACLs are checked <span class="operator">and</span> when ICAP

    transaction is <span class="operator">in</span> progress.

 If adaptation is enabled <span class="operator">the</span> following <span class="constant">three</span> codes become available:

  adapt::last_h The header <span class="operator">of</span> <span class="operator">the</span> <span class="keyword">last</span> ICAP response <span class="operator">or</span>

    meta-information <span class="built_in">from</span> <span class="operator">the</span> <span class="keyword">last</span> eCAP

    transaction related <span class="built_in">to</span> <span class="operator">the</span> HTTP transaction.

    Like h, accepts <span class="operator">an</span> optional header name

    argument.

  adapt::sum_trs Summed adaptation transaction response

    times recorded <span class="keyword">as</span> <span class="operator">a</span> <span class="constant">comma</span>-separated list <span class="operator">in</span>

    <span class="operator">the</span> order <span class="operator">of</span> transaction start <span class="built_in">time</span>. Each <span class="built_in">time</span>

    <span class="built_in">value</span> is recorded <span class="keyword">as</span> <span class="operator">an</span> <span class="keyword">integer</span> <span class="built_in">number</span>,

    representing response <span class="built_in">time</span> <span class="operator">of</span> <span class="constant">one</span> <span class="operator">or</span> more

    adaptation (ICAP <span class="operator">or</span> eCAP) transaction <span class="operator">in</span>

    <span class="built_in">milliseconds</span>. When <span class="operator">a</span> failed transaction is

    being retried <span class="operator">or</span> repeated, its <span class="built_in">time</span> is <span class="operator">not</span>

    logged individually but added <span class="built_in">to</span> <span class="operator">the</span>

    replacement (next) transaction. See also:

    adapt::all_trs.

  adapt::all_trs All adaptation transaction response times.

    Same <span class="keyword">as</span> adaptation_strs but response times <span class="operator">of</span>

    individual transactions are never added

    together. Instead, all transaction response

    times are recorded individually.

 You can prefix adapt::*<span class="title">_trs</span> <span class="built_in">format</span> codes <span class="operator">with</span> adaptation

 service name <span class="operator">in</span> curly braces <span class="built_in">to</span> record response <span class="built_in">time</span>(s) specific

 <span class="built_in">to</span> that service. For example: %{my_service}adapt::sum_trs

 The default formats available (which <span class="built_in">do</span> <span class="operator">not</span> need re-defining) are:

logformat squid %ts.%<span class="number">03</span>tu %<span class="number">6</span>tr %<span class="operator">a</span> %Ss/%<span class="number">03</span>Hs %st %rm %ru %un %Sh/%A %mt

logformat common %<span class="operator">a</span> %ui %un [%tl] %rm %ru HTTP/%rv %Hs %st %Ss:%Sh

logformat combined %<span class="operator">a</span> %ui %un [%tl] %rm %ru HTTP/%rv %Hs %st %{Referer}h %{User-Agent}h %Ss:%Sh

logformat referrer %ts.%<span class="number">03</span>tu %<span class="operator">a</span> %{Referer}h %ru

logformat useragent %<span class="operator">a</span> [%tl] %{User-Agent}h

 When <span class="operator">the</span> log_mime_hdrs directive is <span class="built_in">set</span> <span class="built_in">to</span> ON. The squid, common <span class="operator">and</span> combined

 formats have <span class="operator">a</span> safely encoded copy <span class="operator">of</span> <span class="operator">the</span> mime headers appended <span class="built_in">to</span> <span class="keyword">each</span> <span class="built_in">line</span>

 <span class="operator">within</span> <span class="operator">a</span> pair <span class="operator">of</span> brackets.

 The common <span class="operator">and</span> combined formats are <span class="operator">not</span> quite <span class="constant">true</span> <span class="built_in">to</span> <span class="operator">the</span> Apache definition.

 The logs <span class="built_in">from</span> Squid contain <span class="operator">an</span> extra status <span class="operator">and</span> hierarchy code appended.
</code></pre></div><footer class="post__foot u-cf"><a href="/2011/07/11/w/awstats-e5-88-86-e6-9e-90-e7-bb-9f-e8-ae-a1squid-e6-97-a5-e5-bf-97/#comments" class="post__foot-link u-fr">评论</a></footer></article></main><aside class="site-aside"><div class="widget about"><div class="b"><div class="info u-cf"><img src="/avatar.jpg"><div class="text"> <p>dayu graceful</p><p>vegan</p><p>linux sysadm</p><p> <a href="http://www.weibo.com/vegetablegrain" title="wiebo" class="weibo ico"></a><a href="http://user.qzone.qq.com/13467/main" title="qq" class="qq ico"></a></p></div></div></div></div><div class="widget tags"><div class="h">categories</div><div class="b"> <ul><li><a href="/categories/计算机/">计算机</a><small>(136)</small></li><li><a href="/categories/佛法传统文化/">佛法传统文化</a><small>(18)</small></li><li><a href="/categories/健康/">健康</a><small>(12)</small></li><li><a href="/categories/学习/">学习</a><small>(2)</small></li><li><a href="/categories/default/">default</a><small>(1)</small></li><li><a href="/categories/健康之道/">健康之道</a><small>(1)</small></li><li><a href="/categories/网络/">网络</a><small>(1)</small></li><li><a href="/categories/recreation/">recreation</a><small>(1)</small></li></ul></div></div><div class="widget links"><div class="h">links</div><div class="b"> <ul><li><a href="http://www.enzymesos.com/">酵素Enzyme救地球</a></li><li><a href="http://www.osalt.com/">商业软件的开源替代品</a></li></ul></div></div></aside></section><footer class="site-foot"><div class="inner"><div class="site-copy u-fl">© 2015 dayu<bdi> ❤ Theme by <a href="http://riny.net" target="_blank">Bubblings</a></bdi></div><menu class="page-menu u-fr"><li class="page-menu__item"><a title="Previous" href="/page/12/" class="page-menu__link icon-arrow-left">prev</a></li><li class="page-menu__item"><a title="Next" href="/page/14/" class="page-menu__link icon-arrow-right">next</a></li></menu></div></footer><div id="back-top" title="返回顶部"></div><script src="/js/script.js"></script></body></html>